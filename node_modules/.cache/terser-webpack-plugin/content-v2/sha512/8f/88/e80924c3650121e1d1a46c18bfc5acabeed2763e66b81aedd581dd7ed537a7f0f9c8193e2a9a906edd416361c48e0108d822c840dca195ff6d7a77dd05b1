{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[4],{\"0583\":function(t,e,i){},\"3b17\":function(t,e,i){\"use strict\";i(\"0583\")},\"3e95\":function(t,e,i){\"use strict\";i(\"a312\")},\"3fa8\":function(t,e,i){},\"40f1\":function(t,e,i){\"use strict\";i(\"c66d\")},5169:function(t,e,i){\"use strict\";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"book-background\"},[i(\"q-dialog\",{model:{value:t.info,callback:function(e){t.info=e},expression:\"info\"}},[i(\"q-card\",[i(\"q-card-section\",{staticClass:\"row items-center q-pb-none\"},[i(\"div\",{staticClass:\"text-h6\"},[t._v(\"Info\")]),i(\"q-space\"),i(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{icon:\"close\",flat:\"\",round:\"\",dense:\"\"},on:{click:function(e){return t.$q.localStorage.set(\"readerInfo\",!0)}}})],1),i(\"q-card-section\",[i(\"p\",[t._v(\"\\n          - You can turn the pages of the book by scrolling, using\\n          front/back/left/right keys, or dragging with your cursor(desktop) or\\n          swipe the screen(mobile)\\n        \")]),i(\"p\",[t._v(\"\\n          - The top menu bar can be closed by either entering zen mode or\\n          clicking on the upward arrow on the right. You can then call it back\\n          by clicking/tapping on the top center part of the screen.\\n        \")]),i(\"p\",[t._v(\"\\n          - Please do try out our zen mode ðŸ˜‰\\n        \")])])],1)],1),i(\"transition\",{attrs:{appear:\"\",\"enter-active-class\":\"animated slideInDown\",\"leave-active-class\":\"animated slideOutUp\"}},[t.headerShow?i(\"div\",{staticClass:\"header q-pa-sm\"},[i(\"div\",{staticClass:\"inline-block\"},[i(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"menu\",color:\"primary\"},on:{click:t.toggleDrawer}}),i(\"q-btn\",{staticClass:\"q-ma-sm\",attrs:{color:\"primary\",label:\"Zen Mode\",icon:\"self_improvement\"},on:{click:t.toggleZen}})],1),t.$q.screen.lt.sm?t._e():i(\"div\",{staticClass:\"inline-block absolute-center\"},[i(\"q-btn\",{attrs:{flat:\"\",color:\"primary\"},on:{click:function(e){return t.$router.go(-1)}}},[i(\"q-avatar\",{staticClass:\"q-ma-xs gt-sm\"},[i(\"img\",{attrs:{src:\"icons/favicon-128x128.png\"}})]),i(\"h6\",{staticClass:\"q-ma-xs text-capitalize\"},[t._v(\"BookKay\")])],1)],1),i(\"div\",{staticClass:\"inline-block absolute-right \"},[i(\"q-btn\",{staticClass:\"q-ma-md\",attrs:{round:\"\",color:\"primary\",icon:\"expand_less\"},on:{click:function(e){t.headerShow=!1}}})],1)]):t._e()]),i(\"div\",{staticClass:\"transparent-area\",on:{click:function(e){t.headerShow=!0}}}),i(\"book\",{ref:\"book\",on:{navAdded:t.addNav,swiped:t.handleSwipe}}),i(\"drawer\",{ref:\"drawer\",attrs:{direction:\"left\",exist:!0}},[i(\"div\",{staticClass:\"relative\"},[i(\"q-tree\",{ref:\"navTree\",staticClass:\"col-12 col-sm-6 text-body1\",attrs:{nodes:t.navigations,\"node-key\":\"page\",selected:t.selected},on:{\"update:selected\":[function(e){t.selected=e},t.handleSelected]}}),i(\"q-btn\",{staticClass:\"absolute-bottom\",staticStyle:{\"max-width\":\"110px\"},attrs:{color:\"primary\",icon:\"arrow_back\",label:\"Back\"},on:{click:function(e){t.headerShow=!1,t.$router.go(-1)}}})],1)])],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[t.loading?i(\"loading-screen\",{attrs:{text:\"Page Loading...Please Wait\"}}):t._e(),t.loading?i(\"page\",{staticClass:\"transparent\",class:t.widthClass,attrs:{pageNum:1,header:\"title\",text:\"\",fontSize:t.fontSize}}):t._e(),t.loading?t._e():i(\"flipbook\",{directives:[{name:\"touch-swipe\",rawName:\"v-touch-swipe\",value:t.handleSwipe,expression:\"handleSwipe\"}],ref:\"flipbook\",attrs:{width:t.width,height:t.height,size:\"fixed\",maxShadowOpacity:.5,autoSize:!0,showCover:!0,mobileScrollSupport:!0,startZIndex:0,disableFlipByClick:!t.$q.screen.lt.sm,id:\"flipbook\"}},[i(\"cover\",{attrs:{url:t.frontCover}}),t._l(t.pages,(function(e){return i(\"page\",{key:e.pageNum,attrs:{pageNum:e.pageNum,header:e.header,text:e.text,fontSize:t.fontSize}})})),i(\"cover\",{attrs:{url:t.backCover}})],2)],1)},o=[],r=i(\"4082\"),l=i.n(r),c=(i(\"b64b\"),i(\"ac1f\"),i(\"1276\"),i(\"2ca0\"),i(\"caad\"),i(\"2532\"),i(\"fb6a\"),i(\"5319\"),i(\"4e82\"),i(\"a434\"),i(\"99af\"),i(\"a15b\"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{ref:\"parentElement\",staticClass:\"flipbook\"},[t._t(\"default\")],2)}),d=[],h=(i(\"a9e3\"),i(\"1cdd\")),p={name:\"Flipbook\",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},size:{validator:function(t){return-1!==[\"fixed\",\"stretch\"].indexOf(t)}},minWidth:{type:Number,required:!1},maxWidth:{type:Number,required:!1},minHeight:{type:Number,required:!1},maxHeight:{type:Number,required:!1},drawShadow:{type:Boolean,default:!0},flippingTime:{type:Number,default:1e3},usePortrait:{type:Boolean,default:!0},startZIndex:{type:Number,default:0},startPage:{type:Number,default:0},autoSize:{type:Boolean,default:!0},maxShadowOpacity:{type:Number,default:1,validator:function(t){return t>=0&&t<=1}},showCover:{type:Boolean,default:!1},mobileScrollSupport:{type:Boolean,default:!0},swipeDistance:{type:Number,default:30},clickEventForward:{type:Boolean,default:!0},useMouseEvents:{type:Boolean,default:!0},disableFlipByClick:{type:Boolean,default:!1}},mounted:function(){this.createFlipbook()},data:function(){return{pageFlip:\"\"}},methods:{createFlipbook:function(){var t=this.$refs.parentElement,e={width:this.$props.width,height:this.$props.height,size:this.$props.size,minWidth:this.$props.minWidth,maxWidth:this.$props.maxWidth,minHeight:this.$props.minHeight,maxHeight:this.$props.maxHeight,drawShadow:this.$props.drawShadow,flippingTime:this.$props.flippingTime,usePortrait:this.$props.usePortrait,startZIndex:this.$props.startZIndex,startPage:this.$props.startPage,autoSize:this.$props.autoSize,maxShadowOpacity:this.$props.maxShadowOpacity,showCover:this.$props.showCover,mobileScrollSupport:this.$props.mobileScrollSupport,swipeDistance:this.$props.swipeDistance,clickEventForward:this.$props.clickEventForward,useMouseEvents:this.$props.useMouseEvents,disableFlipByClick:this.$props.disableFlipByClick},i=new h[\"PageFlip\"](t,e);i.getFlipController()?i.updateFromHtml(document.querySelectorAll(\".page\")):i.loadFromHTML(document.querySelectorAll(\".page\")),this.pageFlip=i},getPageCount:function(){this.pageFlip.getPageCount()},flip:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";(e=\"\")&&(e=this.getCorner()),this.pageFlip.flip(t,e)},flipNext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";t||(t=this.getCorner()),console.log(this.pageFlip.getOrientation()),this.pageFlip.flipNext(t)},flipPrev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";t||(t=this.getCorner()),this.pageFlip.flipPrev(t)},destroy:function(){this.pageFlip.destroy()},getCorner:function(){var t=[\"top\",\"bottom\"],e=t[Math.floor(Math.random()*t.length)];return e}}},u=p,f=(i(\"3b17\"),i(\"2877\")),g=Object(f[\"a\"])(u,c,d,!1,null,\"3e73763a\",null),m=g.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"page\"},[i(\"div\",{staticClass:\"page-content\"},[i(\"h2\",{staticClass:\"page-header\"},[t._v(t._s(t.$props.header))]),i(\"div\",{staticClass:\"page-text\",style:t.$props.fontSize,domProps:{innerHTML:t._s(t.$props.text)}}),i(\"div\",{staticClass:\"page-footer\"},[t._v(t._s(t.$props.pageNum))])])])},b=[],y={name:\"Page\",props:{pageNum:{type:Number,required:!0},header:{type:String,required:!0},text:{type:String,required:!0},fontSize:{type:String,required:!0}}},w=y,k=(i(\"8868\"),Object(f[\"a\"])(w,v,b,!1,null,\"1d33d8bd\",null)),x=k.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"page\"},[i(\"q-img\",{attrs:{transition:\"fade\",src:t.$props.url,\"spinner-color\":\"white\"}})],1)},C=[],S={name:\"Cover\",props:{url:{type:String,required:!0}}},$=S,q=i(\"068f\"),T=i(\"eebe\"),N=i.n(T),M=Object(f[\"a\"])($,_,C,!1,null,null,null),E=M.exports;N()(M,\"components\",{QImg:q[\"a\"]});var P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"transition\",{attrs:{appear:\"\",\"enter-active-class\":\"animated slideInDown\",\"leave-active-class\":\"animated slideOutUp\"}},[i(\"div\",{staticClass:\"loader-wrapper\"},[i(\"div\",{staticClass:\"pencil\"},[i(\"div\",{staticClass:\"pencil__ball-point\"}),i(\"div\",{staticClass:\"pencil__cap\"}),i(\"div\",{staticClass:\"pencil__cap-base\"}),i(\"div\",{staticClass:\"pencil__middle\"}),i(\"div\",{staticClass:\"pencil__eraser\"})]),i(\"div\",{staticClass:\"line\"}),i(\"h2\",{staticClass:\"text-primary\"},[t._v(t._s(t.text))])])])},L=[],B={name:\"LoadingScreen\",props:{text:{type:String,required:!0}}},O=B,F=(i(\"3e95\"),Object(f[\"a\"])(O,P,L,!1,null,\"31bd307e\",null)),H=F.exports,D={name:\"Book\",components:{Flipbook:m,Page:x,Cover:E,LoadingScreen:H},created:function(){var t=this;document.addEventListener(\"keydown\",(function(e){t.handleKeyPress(e.key)}),{once:!0}),document.addEventListener(\"wheel\",(function(e){t.handleScroll(e.deltaY)}),{once:!0})},mounted:function(){var t=this,e=this;function i(t){var i=1,o=\"<div id='RootDivContainer'>\";if(e.$emit(\"navAdded\",{type:\"book\",label:t[\"title\"],page:i-1,children:[]}),e.$q.screen.lt.sm||(a(i,t[\"title\"],\"\"),i++),console.log(\"book\",t),\"front_matters\"in t)for(var r=t[\"front_matters\"],l=0;l<r.length;l++){e.$emit(\"navAdded\",{type:\"front_matter\",label:r[l][\"title\"],page:i});var c=\" \";e.bookConfigs.auto_add_title&&(c=\"<h2>\"+r[l][\"title\"]+\"</h2>\");var d=o+c+r[l][\"text\"]+\"</div>\";d=e.processClosingTag(d),d=e.addTabs(d),i=n(s(d,!1),i,r[l][\"title\"]);var h=document.getElementsByClassName(\"page-text\")[0].innerHTML;\"\"!=h&&(a(i,r[l][\"title\"],h),document.getElementsByClassName(\"page-text\")[0].innerHTML=\"\",i++)}if(\"\"!=t.text){e.$emit(\"navAdded\",{type:\"text\",label:t[\"title\"],page:i});d=o+t[\"text\"]+\"</div>\";d=e.processClosingTag(d),d=e.addTabs(d),i=n(s(d,!1),i,t[\"title\"]);h=document.getElementsByClassName(\"page-text\")[0].innerHTML;\"\"!=h&&(a(i,t[\"title\"],h),document.getElementsByClassName(\"page-text\")[0].innerHTML=\"\",i++)}if(\"chapters\"in t){var p=t[\"chapters\"];for(l=0;l<p.length;l++){e.$emit(\"navAdded\",{type:\"chapters\",label:p[l][\"title\"],page:i});c=\" \";e.bookConfigs.auto_add_title&&(c=\"<h2>\"+p[l][\"title\"]+\"</h2>\");d=o+c+p[l][\"text\"]+\"</div>\";d=e.processClosingTag(d),d=e.addTabs(d),console.log(\"text\",d),i=n(s(d,!1),i,p[l][\"title\"]);h=document.getElementsByClassName(\"page-text\")[0].innerHTML;\"\"!=h&&(a(i,p[l][\"title\"],h),document.getElementsByClassName(\"page-text\")[0].innerHTML=\"\",i++)}}if(\"back_matters\"in t){var u=t[\"back_matters\"];for(l=0;l<u.length;l++){e.$emit(\"navAdded\",{type:\"back_matter\",label:u[l][\"title\"],page:i});c=\" \";e.bookConfigs.auto_add_title&&(c=\"<h2>\"+u[l][\"title\"]+\"</h2>\");d=o+c+u[l][\"text\"]+\"</div>\";d=e.processClosingTag(d),d=e.addTabs(d),i=n(s(d,!1),i,u[l][\"title\"]);h=document.getElementsByClassName(\"page-text\")[0].innerHTML;\"\"!=h&&(a(i,u[l][\"title\"],h),document.getElementsByClassName(\"page-text\")[0].innerHTML=\"\",i++)}}e.$q.screen.lt.sm||(a(i,t[\"title\"],\"\"),i++,i%2==0&&a(i,t[\"title\"],\"\"))}function s(t,e){var i={};if(\"string\"===typeof t){if(window.DOMParser)var s=new DOMParser,n=s.parseFromString(t,\"text/xml\");else{n=new ActiveXObject(\"Microsoft.XMLDOM\");n.async=!1,n.loadXML(t)}t=n.firstChild}function a(t,e){e[\"type\"]=t.nodeName;var i=t.childNodes;if(null!=i&&i.length){e[\"content\"]=[];for(var s=0;s<i.length;s++)3==i[s].nodeType?e[\"content\"].push(i[s].nodeValue):(e[\"content\"].push({}),a(i[s],e[\"content\"][e[\"content\"].length-1]))}if(null!=t.attributes&&t.attributes.length){e[\"attributes\"]={};for(s=0;s<t.attributes.length;s++)e[\"attributes\"][t.attributes[s].nodeName]=t.attributes[s].nodeValue}}return a(t,i),e?JSON.stringify(i):i}function n(t,i,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(console.log(\"imp\",o,t),\"attributes\"in t&&\"id\"in t[\"attributes\"]&&\"RootDivContainer\"==t[\"attributes\"][\"id\"]);else{var h=\"attributes\"in t?c(t[\"type\"],t[\"attributes\"]):c(t[\"type\"]),p=l(t[\"type\"]),u=r(h+p,o);\"\"!=u&&(a(i,s,u),u=r(h+p,o),i++),o.push({openingTag:h,closingTag:p}),console.log(o)}if(t[\"content\"])for(var f=0;f<t[\"content\"].length;f++){var g=t[\"content\"][f];if(\"string\"==typeof g){g=d(g);for(var m=g.split(\" \"),v=0;v<m.length;v++){var b=m[v]+\" \";u=r(b,o);if(\"\"!=u){a(i,s,u);for(var y=[],w=0;w<o.length;w++){var k=o[w],x=e.pages[e.pages.length-1].text.split(\" \");u=k[\"openingTag\"].startsWith(\"<p\")&&\"<p></p>\"!=x[x.length-2]?r(\"<p style='text-indent: 0'>\"+k[\"closingTag\"],y):r(k[\"openingTag\"]+k[\"closingTag\"],y),y.push(k)}u=r(b,o),i++}}}else if(e.singleTags.includes(g.type)){b=\"<\"+g.type+\"/>\",u=r(b,o);\"\"!=u&&(a(i,s,u),u=r(b,o),i++)}else i=n(g,i,s,o),o.pop()}return i}function a(t,i,s){var n={header:i,pageNum:t,text:s};e.pages.push(n)}function o(t){var e=t.style.overflow;e&&\"visible\"!==e||(t.style.overflow=\"hidden\");var i=t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight;return t.style.overflow=e,i}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=document.getElementsByClassName(\"page-text\")[0],s=i.innerHTML,n=s;if(e.length>0){var a=s.lastIndexOf(e[e.length-1][\"closingTag\"]),r=s.slice(a);s=s.slice(0,a),s=s+t+\" \"+r,i.innerHTML=s}else i.innerHTML+=t+\" \";return o(i)?(i.innerHTML=\"\",n):\"\"}function l(t){return\"</\"+t+\">\"}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=\"<\"+t;for(var s in e)i=i+\" \"+s+\"='\"+e[s]+\"'\";return i+=\">\",i}function d(t){return t.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#039;\")}console.log(s(\"<p style='text-indent: 10%;' width='400'>Hello <b>B<i>oy</i></b> </p>\",!0)),\"manuscript_id\"==Object.keys(this.$route.query)[0]&&this.$api.get(\"manuscripts/\"+this.$route.query.manuscript_id).then((function(e){var s=e.data;t.$store.commit(\"write/setManuscript\",s),console.log(\"manuscript\",s);try{t.$q.sessionStorage.set(\"currentManuscript\",s)}catch(n){console.log(\"err\",n)}t.loadBook(s),i(t.book),t.loading=!1})),\"book_id\"==Object.keys(this.$route.query)[0]&&this.$api.get(\"books/\"+this.$route.query.book_id).then((function(e){var s=e.data;t.loadBook(s),i(t.book),t.loading=!1}))},data:function(){return{widthClass:this.$q.screen.lt.sm?\"full-page\":\"half-page\",width:this.$q.screen.lt.sm?window.innerWidth:window.innerWidth/2,height:screen.height,loading:!0,lastScrollTop:0,bookConfigs:{},fontSize:\"font-size: 18px\",singleTags:[\"br\",\"hr\"],frontCover:\"cover/cover.jpg\",backCover:\"cover/cover-2.jpg\",book:{title:\"\",front_matters:[],chapters:[],text:\"\",back_matters:[]},book2:{title:\"Sherlock Holmes\",front_matters:[],chapters:[],back_matters:[]},text:\"\",pages:[]}},methods:{loadBook:function(t){console.log(t),this.bookConfigs=t.configs;var e=t.temp_cover,i=t.front_cover,s=t.back_cover;if(this.frontCover=this.processCoverUrls(i,e),this.backCover=this.processCoverUrls(s,e),this.book.title=t.title,t.configs.contain_front_matter&&t.front_matters.length>0)for(var n=t.front_matters.sort(this.compareIndex),a=0;a<n.length;a++){var o=n[a];this.book.front_matters.push({title:o.title,text:o.text})}if(t.configs.contain_chapter&&t.chapters.length>0){var r=t.chapters.sort(this.compareIndex);for(a=0;a<r.length;a++){var l=r[a];this.book.chapters.push({title:l.title,text:l.text})}}else{var c=t.text;this.book.text=c}if(t.configs.contain_back_matter&&t.back_matters.length>0){var d=t.back_matters.sort(this.compareIndex);for(a=0;a<d.length;a++){var h=d[a];this.book.back_matters.push({title:h.title,text:h.text})}}console.log(\"output\",this.book)},compareIndex:function(t,e){return t.index<e.index?-1:t.index>e.index?1:0},processCoverUrls:function(t,e){var i=t||e,s=i.split(\"/\");return s.splice(6,0,\"w_\".concat(this.width,\",h_\").concat(this.height,\",c_scale,b_rgb:F5F5DC,q_auto\")),i=s.join(\"/\"),i},processClosingTag:function(t){return t=t.split(\"<br>\").join(\"<br/>\"),t=t.split(\"<hr>\").join(\"<hr/>\"),t=t.split(\"<img>\").join(\"<img/>\"),t},addTabs:function(t){return t.replaceAll(\"&nbsp;\",'<span class=\"tab\"></span>')},handleKeyPress:function(t){var e=this;if(this.$refs.flipbook){switch(t){case\"ArrowLeft\":this.$refs.flipbook.flipPrev();break;case\"ArrowRight\":this.$refs.flipbook.flipNext();break;case\"ArrowDown\":this.$refs.flipbook.flipNext();break;case\"ArrowUp\":this.$refs.flipbook.flipPrev();break;default:}document.addEventListener(\"keydown\",(function(t){e.handleKeyPress(t.key)}),{once:!0})}},handleScroll:function(t){var e=this;this.$refs.flipbook&&(t<0?this.$refs.flipbook.flipPrev():t>0&&this.$refs.flipbook.flipNext(),document.addEventListener(\"wheel\",(function(t){e.handleScroll(t.deltaY)}),{once:!0}))},handleSwipe:function(t){t.evt;var e=l()(t,[\"evt\"]),i=e.direction;\"right\"==i?this.$refs.flipbook.flipPrev():\"left\"==i?this.$refs.flipbook.flipNext():\"top\"==i?this.$emit(\"swiped\",\"top\"):\"down\"==i&&this.$emit(\"swiped\",\"down\")}}},z=D,W=(i(\"40f1\"),i(\"12c5\")),I=Object(f[\"a\"])(z,a,o,!1,null,\"6b1cb6df\",null),j=I.exports;N()(I,\"directives\",{TouchSwipe:W[\"a\"]});var A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.enabled?i(\"section\",[i(\"aside\",{ref:\"element\",staticClass:\"sidebar\",style:t.style},[t._t(\"default\")],2),i(\"div\",{ref:\"overlay\",staticClass:\"overlay\"})]):t._e()},Z=[],Q={name:\"Drawer\",props:[\"direction\",\"exist\"],data:function(){return{auto_speed:\"0.3s\",manual_speed:\"0.03s\",threshold:20,startTime:null,startPos:null,translate:null,active:!1,visible:!0}},computed:{element:function(){return this.$refs.element},overlay:function(){return this.$refs.overlay},enabled:function(){return 1==this.exist},style:function(){return\"right\"==this.direction?\"transform:translate3d(100%,0,0);right:0;\":\"transform:translate3d(-100%,0,0);left:0;\"}},mounted:function(){var t=this;document.addEventListener(\"touchstart\",(function(e){t.handleStart(e)})),document.addEventListener(\"touchmove\",(function(e){t.handleMove(e)})),document.addEventListener(\"touchend\",(function(e){t.handleEnd(e)})),document.addEventListener(\"touchcancel\",(function(e){t.handleEnd(e)})),window.addEventListener(\"resize\",(function(e){t.setVisibality(e)}),!0),this.overlay.addEventListener(\"transitionend\",(function(e){t.handleZindex(e)}),!1),this.overlay.addEventListener(\"click\",(function(e){t.close()}),!1),this.setVisibality()},methods:{setVisibality:function(){0==this.element.offsetWidth?this.visible=!1:this.visible=!0},handleStart:function(t){this.startTime=(new Date).getTime(),this.startPos=t.targetTouches[0].pageX,this.element.style.transitionDuration=this.manual_speed},handleMove:function(t){var e=this.gesture(t),i=this.validate(this.direction,e);if(i){var s=this.percentage(this.direction,e);\"left\"==this.direction?(this.translate=t.touches[0].pageX-this.element.offsetWidth,this.translate<0?this.element.style.transform=\"translate3d(\"+this.translate+\"px,0,0)\":this.open()):(this.translate=-(screen.width-this.element.offsetWidth-t.touches[0].pageX),this.translate>0?this.element.style.transform=\"translate3d(\"+this.translate+\"px,0,0)\":this.open()),this.overlayOpacity(s/100)}},handleEnd:function(t){var e=this.speed(t),i=this.gesture(t),s=this.validate(this.direction,i);s&&(e>.6?this.active?this.close():this.open():this.element.offsetWidth/2>Math.abs(this.translate)?this.open():this.close())},handleZindex:function(){var t=window.getComputedStyle(this.overlay).getPropertyValue(\"opacity\");t<=0&&(this.overlay.style.zIndex=-999)},validate:function(t,e){if(\"left\"==t){if(this.active&&\"swiperight\"==e||!this.active&&(\"swipeleft\"==e||this.startPos>this.threshold))return!1}else if(this.active&&\"swipeleft\"==e||!this.active&&(\"swiperight\"==e||this.startPos<screen.width-this.threshold))return!1;return!(document.querySelector(\".sidebar.active\")&&!this.active||!this.visible)},overlayOpacity:function(t){this.overlay.style.opacity=t,t>0&&(this.overlay.style.zIndex=999)},gesture:function(t){var e=[\"swipeleft\",\"swiperight\"],i=t.changedTouches[0].pageX;return this.startPos-i<0?e[1]:e[0]},open:function(){this.translate=0,this.element.style.transform=\"translate3d(\"+this.translate+\",0,0)\",this.element.style.transitionDuration=this.auto_speed,this.overlayOpacity(1),this.lock(document.querySelector(\"html\")),this.lock(document.querySelector(\"body\")),this.element.classList.add(\"active\"),this.active=!0},close:function(){\"left\"==this.direction?this.translate=\"-\"+this.element.offsetWidth+\"px\":this.translate=this.element.offsetWidth+\"px\",this.element.style.transform=\"translate3d(\"+this.translate+\",0,0)\",this.element.style.transitionDuration=this.auto_speed,this.overlayOpacity(0),this.unlock(document.querySelector(\"html\")),this.unlock(document.querySelector(\"body\")),this.element.classList.remove(\"active\"),this.active=!1},speed:function(t){var e=(new Date).getTime()-this.startTime,i=Math.abs(this.startPos),s=Math.abs(t.changedTouches[0].pageX),n=i>s?i-s:s-i;return n/e},percentage:function(t,e){var i=0,s=[];return s=\"left\"==t?[\"swipeleft\",\"swiperight\"]:[\"swiperight\",\"swipeleft\"],this.active&&e==s[0]&&(i=100-Math.round(Math.abs(this.translate)/this.element.offsetWidth*100)),this.active||e!=s[1]||(i=Math.round(100-Math.abs(this.translate)/this.element.offsetWidth*100)),i>100&&(i=100),i<0&&(i=0),i},lock:function(t){t.style.overflow=\"hidden\",t.style.touchAction=\"none\"},unlock:function(t){t.style.removeProperty(\"overflow\"),t.style.removeProperty(\"touch-action\")}},destroyed:function(){this.unlock(document.querySelector(\"html\")),this.unlock(document.querySelector(\"body\"))}},X=Q,U=(i(\"5833\"),Object(f[\"a\"])(X,A,Z,!1,null,\"e675b8bc\",null)),R=U.exports,V={components:{Book:j,Drawer:R},name:\"ReadBook\",data:function(){return{headerShow:!0,info:!0,text:\"\",navigations:[],selected:\"\",currentSelected:\"\",overflow:\"hidden\"}},mounted:function(){this.info=!this.$q.localStorage.getItem(\"readerInfo\")},methods:{toggleZen:function(){this.$q.fullscreen.toggle().then((function(){})).catch((function(t){alert(t)})),this.headerShow=!1},toggleDrawer:function(){this.$refs.drawer.active?this.$refs.drawer.close():this.$refs.drawer.open()},addNav:function(t){\"book\"==t[\"type\"]?this.navigations.push(t):this.navigations[0][\"children\"].push(t)},handleSelected:function(){null==this.selected?this.selected=this.currentSelected:(this.currentSelected=this.selected,this.headerShow=!1,this.$refs.book.$refs.flipbook.flip(this.currentSelected))},handleSwipe:function(t){\"top\"==t?headerShow=!1:\"down\"==t&&(headerShow=!0)}},beforeRouteUpdate:function(t,e,i){this.navigations=[],i()},beforeRouteLeave:function(t,e,i){this.overflow=\"auto\",i()},beforeDestroy:function(){this.$q.sessionStorage.has(\"currentManuscript\")&&this.$q.sessionStorage.remove(\"currentManuscript\"),this.$q.sessionStorage.has(\"currentBook\")&&this.$q.sessionStorage.remove(\"currentBook\")}},K=V,Y=(i(\"60f5\"),i(\"24e8\")),J=i(\"f09f\"),G=i(\"a370\"),tt=i(\"2c91\"),et=i(\"9c40\"),it=i(\"cb32\"),st=i(\"7f41\"),nt=i(\"7f67\"),at=Object(f[\"a\"])(K,s,n,!1,null,\"7e675466\",null);e[\"default\"]=at.exports;N()(at,\"components\",{QDialog:Y[\"a\"],QCard:J[\"a\"],QCardSection:G[\"a\"],QSpace:tt[\"a\"],QBtn:et[\"a\"],QAvatar:it[\"a\"],QTree:st[\"a\"]}),N()(at,\"directives\",{ClosePopup:nt[\"a\"]})},5833:function(t,e,i){\"use strict\";i(\"619b\")},\"60f5\":function(t,e,i){\"use strict\";i(\"3fa8\")},\"619b\":function(t,e,i){},\"6da2\":function(t,e,i){},8868:function(t,e,i){\"use strict\";i(\"6da2\")},a312:function(t,e,i){},c66d:function(t,e,i){}}]);","name":"js/4.992a4b07.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[4],{\n\n/***/ \"0583\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"3b17\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_3e73763a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"0583\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_3e73763a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Flipbook_vue_vue_type_style_index_0_id_3e73763a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"3e95\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_LoadingScreen_vue_vue_type_style_index_0_id_31bd307e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"a312\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_LoadingScreen_vue_vue_type_style_index_0_id_31bd307e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_LoadingScreen_vue_vue_type_style_index_0_id_31bd307e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"3fa8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"40f1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Book_vue_vue_type_style_index_0_id_6b1cb6df_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"c66d\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Book_vue_vue_type_style_index_0_id_6b1cb6df_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Book_vue_vue_type_style_index_0_id_6b1cb6df_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"5169\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/read/ReadBook.vue?vue&type=template&id=7e675466&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-background\"},[_c('q-dialog',{model:{value:(_vm.info),callback:function ($$v) {_vm.info=$$v},expression:\"info\"}},[_c('q-card',[_c('q-card-section',{staticClass:\"row items-center q-pb-none\"},[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Info\")]),_c('q-space'),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"icon\":\"close\",\"flat\":\"\",\"round\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.$q.localStorage.set('readerInfo', true)}}})],1),_c('q-card-section',[_c('p',[_vm._v(\"\\n          - You can turn the pages of the book by scrolling, using\\n          front/back/left/right keys, or dragging with your cursor(desktop) or\\n          swipe the screen(mobile)\\n        \")]),_c('p',[_vm._v(\"\\n          - The top menu bar can be closed by either entering zen mode or\\n          clicking on the upward arrow on the right. You can then call it back\\n          by clicking/tapping on the top center part of the screen.\\n        \")]),_c('p',[_vm._v(\"\\n          - Please do try out our zen mode ðŸ˜‰\\n        \")])])],1)],1),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated slideInDown\",\"leave-active-class\":\"animated slideOutUp\"}},[(_vm.headerShow)?_c('div',{staticClass:\"header q-pa-sm\"},[_c('div',{staticClass:\"inline-block\"},[_c('q-btn',{staticClass:\"q-mr-sm\",attrs:{\"dense\":\"\",\"flat\":\"\",\"round\":\"\",\"icon\":\"menu\",\"color\":\"primary\"},on:{\"click\":_vm.toggleDrawer}}),_c('q-btn',{staticClass:\"q-ma-sm\",attrs:{\"color\":\"primary\",\"label\":\"Zen Mode\",\"icon\":\"self_improvement\"},on:{\"click\":_vm.toggleZen}})],1),(!_vm.$q.screen.lt.sm)?_c('div',{staticClass:\"inline-block absolute-center\"},[_c('q-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('q-avatar',{staticClass:\"q-ma-xs gt-sm\"},[_c('img',{attrs:{\"src\":\"icons/favicon-128x128.png\"}})]),_c('h6',{staticClass:\"q-ma-xs text-capitalize\"},[_vm._v(\"BookKay\")])],1)],1):_vm._e(),_c('div',{staticClass:\"inline-block absolute-right \"},[_c('q-btn',{staticClass:\"q-ma-md\",attrs:{\"round\":\"\",\"color\":\"primary\",\"icon\":\"expand_less\"},on:{\"click\":function($event){_vm.headerShow = false}}})],1)]):_vm._e()]),_c('div',{staticClass:\"transparent-area\",on:{\"click\":function($event){_vm.headerShow = true}}}),_c('book',{ref:\"book\",on:{\"navAdded\":_vm.addNav,\"swiped\":_vm.handleSwipe}}),_c('drawer',{ref:\"drawer\",attrs:{\"direction\":'left',\"exist\":true}},[_c('div',{staticClass:\"relative\"},[_c('q-tree',{ref:\"navTree\",staticClass:\"col-12 col-sm-6 text-body1\",attrs:{\"nodes\":_vm.navigations,\"node-key\":\"page\",\"selected\":_vm.selected},on:{\"update:selected\":[function($event){_vm.selected=$event},_vm.handleSelected]}}),_c('q-btn',{staticClass:\"absolute-bottom\",staticStyle:{\"max-width\":\"110px\"},attrs:{\"color\":\"primary\",\"icon\":\"arrow_back\",\"label\":\"Back\"},on:{\"click\":function($event){(_vm.headerShow = false), _vm.$router.go(-1)}}})],1)])],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/read/ReadBook.vue?vue&type=template&id=7e675466&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Book.vue?vue&type=template&id=6b1cb6df&scoped=true&\nvar Bookvue_type_template_id_6b1cb6df_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('loading-screen',{attrs:{\"text\":\"Page Loading...Please Wait\"}}):_vm._e(),(_vm.loading)?_c('page',{staticClass:\"transparent\",class:_vm.widthClass,attrs:{\"pageNum\":1,\"header\":\"title\",\"text\":\"\",\"fontSize\":_vm.fontSize}}):_vm._e(),(!_vm.loading)?_c('flipbook',{directives:[{name:\"touch-swipe\",rawName:\"v-touch-swipe\",value:(_vm.handleSwipe),expression:\"handleSwipe\"}],ref:\"flipbook\",attrs:{\"width\":_vm.width,\"height\":_vm.height,\"size\":\"fixed\",\"maxShadowOpacity\":0.5,\"autoSize\":true,\"showCover\":true,\"mobileScrollSupport\":true,\"startZIndex\":0,\"disableFlipByClick\":!_vm.$q.screen.lt.sm,\"id\":\"flipbook\"}},[_c('cover',{attrs:{\"url\":_vm.frontCover}}),_vm._l((_vm.pages),function(page){return _c('page',{key:page.pageNum,attrs:{\"pageNum\":page.pageNum,\"header\":page.header,\"text\":page.text,\"fontSize\":_vm.fontSize}})}),_c('cover',{attrs:{\"url\":_vm.backCover}})],2):_vm._e()],1)}\nvar Bookvue_type_template_id_6b1cb6df_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/reader/Book.vue?vue&type=template&id=6b1cb6df&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(\"4082\");\nvar objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(\"b64b\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(\"ac1f\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__(\"1276\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.starts-with.js\nvar es_string_starts_with = __webpack_require__(\"2ca0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(\"caad\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(\"2532\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__(\"fb6a\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(\"5319\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.sort.js\nvar es_array_sort = __webpack_require__(\"4e82\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__(\"a434\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(\"99af\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__(\"a15b\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Flipbook.vue?vue&type=template&id=3e73763a&scoped=true&\nvar Flipbookvue_type_template_id_3e73763a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"parentElement\",staticClass:\"flipbook\"},[_vm._t(\"default\")],2)}\nvar Flipbookvue_type_template_id_3e73763a_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/reader/Flipbook.vue?vue&type=template&id=3e73763a&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.constructor.js\nvar es_number_constructor = __webpack_require__(\"a9e3\");\n\n// EXTERNAL MODULE: ./node_modules/page-flip/dist/js/page-flip.browser.js\nvar page_flip_browser = __webpack_require__(\"1cdd\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Flipbook.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Flipbookvue_type_script_lang_js_ = ({\n  name: \"Flipbook\",\n  props: {\n    width: {\n      type: Number,\n      required: true\n    },\n    height: {\n      type: Number,\n      required: true\n    },\n    size: {\n      validator: function validator(value) {\n        // The value must match one of these strings\n        return [\"fixed\", \"stretch\"].indexOf(value) !== -1;\n      }\n    },\n    minWidth: {\n      type: Number,\n      required: false\n    },\n    maxWidth: {\n      type: Number,\n      required: false\n    },\n    minHeight: {\n      type: Number,\n      required: false\n    },\n    maxHeight: {\n      type: Number,\n      required: false\n    },\n    drawShadow: {\n      type: Boolean,\n      default: true\n    },\n    flippingTime: {\n      type: Number,\n      default: 1000\n    },\n    usePortrait: {\n      type: Boolean,\n      default: true\n    },\n    startZIndex: {\n      type: Number,\n      default: 0\n    },\n    startPage: {\n      type: Number,\n      default: 0\n    },\n    autoSize: {\n      type: Boolean,\n      default: true\n    },\n    maxShadowOpacity: {\n      type: Number,\n      default: 1,\n      validator: function validator(value) {\n        // The value must match one of these strings\n        return value >= 0 && value <= 1;\n      }\n    },\n    showCover: {\n      type: Boolean,\n      default: false\n    },\n    mobileScrollSupport: {\n      type: Boolean,\n      default: true\n    },\n    swipeDistance: {\n      type: Number,\n      default: 30\n    },\n    clickEventForward: {\n      type: Boolean,\n      default: true\n    },\n    useMouseEvents: {\n      type: Boolean,\n      default: true\n    },\n    disableFlipByClick: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted: function mounted() {\n    this.createFlipbook();\n  },\n  data: function data() {\n    return {\n      pageFlip: \"\"\n    };\n  },\n  methods: {\n    createFlipbook: function createFlipbook() {\n      var parent = this.$refs.parentElement;\n      var settings = {\n        width: this.$props.width,\n        height: this.$props.height,\n        size: this.$props.size,\n        minWidth: this.$props.minWidth,\n        maxWidth: this.$props.maxWidth,\n        minHeight: this.$props.minHeight,\n        maxHeight: this.$props.maxHeight,\n        drawShadow: this.$props.drawShadow,\n        flippingTime: this.$props.flippingTime,\n        usePortrait: this.$props.usePortrait,\n        startZIndex: this.$props.startZIndex,\n        startPage: this.$props.startPage,\n        autoSize: this.$props.autoSize,\n        maxShadowOpacity: this.$props.maxShadowOpacity,\n        showCover: this.$props.showCover,\n        mobileScrollSupport: this.$props.mobileScrollSupport,\n        swipeDistance: this.$props.swipeDistance,\n        clickEventForward: this.$props.clickEventForward,\n        useMouseEvents: this.$props.useMouseEvents,\n        disableFlipByClick: this.$props.disableFlipByClick\n      };\n      var pageFlip = new page_flip_browser[\"PageFlip\"](parent, settings);\n\n      if (!pageFlip.getFlipController()) {\n        pageFlip.loadFromHTML(document.querySelectorAll(\".page\"));\n      } else {\n        pageFlip.updateFromHtml(document.querySelectorAll(\".page\"));\n      }\n\n      this.pageFlip = pageFlip;\n    },\n    getPageCount: function getPageCount() {\n      this.pageFlip.getPageCount();\n    },\n    flip: function flip(pageNum) {\n      var corner = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n      if (corner = \"\") {\n        corner = this.getCorner();\n      }\n\n      this.pageFlip.flip(pageNum, corner);\n    },\n    flipNext: function flipNext() {\n      var corner = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n\n      if (!corner) {\n        corner = this.getCorner();\n      }\n\n      console.log(this.pageFlip.getOrientation());\n      this.pageFlip.flipNext(corner);\n    },\n    flipPrev: function flipPrev() {\n      var corner = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n\n      if (!corner) {\n        corner = this.getCorner();\n      }\n\n      this.pageFlip.flipPrev(corner);\n    },\n    destroy: function destroy() {\n      this.pageFlip.destroy();\n    },\n    getCorner: function getCorner() {\n      var corners = [\"top\", \"bottom\"];\n      var randomCorner = corners[Math.floor(Math.random() * corners.length)];\n      return randomCorner;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/reader/Flipbook.vue?vue&type=script&lang=js&\n /* harmony default export */ var reader_Flipbookvue_type_script_lang_js_ = (Flipbookvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/reader/Flipbook.vue?vue&type=style&index=0&id=3e73763a&lang=scss&scoped=true&\nvar Flipbookvue_type_style_index_0_id_3e73763a_lang_scss_scoped_true_ = __webpack_require__(\"3b17\");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// CONCATENATED MODULE: ./src/components/reader/Flipbook.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  reader_Flipbookvue_type_script_lang_js_,\n  Flipbookvue_type_template_id_3e73763a_scoped_true_render,\n  Flipbookvue_type_template_id_3e73763a_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"3e73763a\",\n  null\n  \n)\n\n/* harmony default export */ var Flipbook = (component.exports);\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Page.vue?vue&type=template&id=1d33d8bd&scoped=true&\nvar Pagevue_type_template_id_1d33d8bd_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page-content\"},[_c('h2',{staticClass:\"page-header\"},[_vm._v(_vm._s(_vm.$props.header))]),_c('div',{staticClass:\"page-text\",style:(_vm.$props.fontSize),domProps:{\"innerHTML\":_vm._s(_vm.$props.text)}}),_c('div',{staticClass:\"page-footer\"},[_vm._v(_vm._s(_vm.$props.pageNum))])])])}\nvar Pagevue_type_template_id_1d33d8bd_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/reader/Page.vue?vue&type=template&id=1d33d8bd&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Page.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Pagevue_type_script_lang_js_ = ({\n  name: \"Page\",\n  props: {\n    pageNum: {\n      type: Number,\n      required: true\n    },\n    header: {\n      type: String,\n      required: true\n    },\n    text: {\n      type: String,\n      required: true\n    },\n    fontSize: {\n      type: String,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/reader/Page.vue?vue&type=script&lang=js&\n /* harmony default export */ var reader_Pagevue_type_script_lang_js_ = (Pagevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/reader/Page.vue?vue&type=style&index=0&id=1d33d8bd&lang=scss&scoped=true&\nvar Pagevue_type_style_index_0_id_1d33d8bd_lang_scss_scoped_true_ = __webpack_require__(\"8868\");\n\n// CONCATENATED MODULE: ./src/components/reader/Page.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar Page_component = Object(componentNormalizer[\"a\" /* default */])(\n  reader_Pagevue_type_script_lang_js_,\n  Pagevue_type_template_id_1d33d8bd_scoped_true_render,\n  Pagevue_type_template_id_1d33d8bd_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"1d33d8bd\",\n  null\n  \n)\n\n/* harmony default export */ var Page = (Page_component.exports);\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Cover.vue?vue&type=template&id=701379e0&\nvar Covervue_type_template_id_701379e0_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('q-img',{attrs:{\"transition\":\"fade\",\"src\":_vm.$props.url,\"spinner-color\":\"white\"}})],1)}\nvar Covervue_type_template_id_701379e0_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/reader/Cover.vue?vue&type=template&id=701379e0&\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Cover.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Covervue_type_script_lang_js_ = ({\n  name: \"Cover\",\n  props: {\n    url: {\n      type: String,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/reader/Cover.vue?vue&type=script&lang=js&\n /* harmony default export */ var reader_Covervue_type_script_lang_js_ = (Covervue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/img/QImg.js + 1 modules\nvar QImg = __webpack_require__(\"068f\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/reader/Cover.vue\n\n\n\n\n\n/* normalize component */\n\nvar Cover_component = Object(componentNormalizer[\"a\" /* default */])(\n  reader_Covervue_type_script_lang_js_,\n  Covervue_type_template_id_701379e0_render,\n  Covervue_type_template_id_701379e0_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Cover = (Cover_component.exports);\n\n\nruntime_auto_import_default()(Cover_component, 'components', {QImg: QImg[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/helpers/LoadingScreen.vue?vue&type=template&id=31bd307e&scoped=true&\nvar LoadingScreenvue_type_template_id_31bd307e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animated slideInDown\",\"leave-active-class\":\"animated slideOutUp\"}},[_c('div',{staticClass:\"loader-wrapper\"},[_c('div',{staticClass:\"pencil\"},[_c('div',{staticClass:\"pencil__ball-point\"}),_c('div',{staticClass:\"pencil__cap\"}),_c('div',{staticClass:\"pencil__cap-base\"}),_c('div',{staticClass:\"pencil__middle\"}),_c('div',{staticClass:\"pencil__eraser\"})]),_c('div',{staticClass:\"line\"}),_c('h2',{staticClass:\"text-primary\"},[_vm._v(_vm._s(_vm.text))])])])}\nvar LoadingScreenvue_type_template_id_31bd307e_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/helpers/LoadingScreen.vue?vue&type=template&id=31bd307e&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/helpers/LoadingScreen.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var LoadingScreenvue_type_script_lang_js_ = ({\n  name: \"LoadingScreen\",\n  props: {\n    text: {\n      type: String,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/helpers/LoadingScreen.vue?vue&type=script&lang=js&\n /* harmony default export */ var helpers_LoadingScreenvue_type_script_lang_js_ = (LoadingScreenvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/helpers/LoadingScreen.vue?vue&type=style&index=0&id=31bd307e&lang=scss&scoped=true&\nvar LoadingScreenvue_type_style_index_0_id_31bd307e_lang_scss_scoped_true_ = __webpack_require__(\"3e95\");\n\n// CONCATENATED MODULE: ./src/components/helpers/LoadingScreen.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar LoadingScreen_component = Object(componentNormalizer[\"a\" /* default */])(\n  helpers_LoadingScreenvue_type_script_lang_js_,\n  LoadingScreenvue_type_template_id_31bd307e_scoped_true_render,\n  LoadingScreenvue_type_template_id_31bd307e_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"31bd307e\",\n  null\n  \n)\n\n/* harmony default export */ var LoadingScreen = (LoadingScreen_component.exports);\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Book.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var Bookvue_type_script_lang_js_ = ({\n  name: \"Book\",\n  components: {\n    Flipbook: Flipbook,\n    Page: Page,\n    Cover: Cover,\n    LoadingScreen: LoadingScreen\n  },\n  created: function created() {\n    var _this = this;\n\n    document.addEventListener(\"keydown\", function (e) {\n      _this.handleKeyPress(e.key);\n    }, {\n      once: true\n    });\n    document.addEventListener(\"wheel\", function (e) {\n      _this.handleScroll(e.deltaY);\n    }, {\n      once: true\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    var self = this;\n    console.log(mapDOM(\"<p style='text-indent: 10%;' width='400'>Hello <b>B<i>oy</i></b> </p>\", true));\n\n    if (Object.keys(this.$route.query)[0] == \"manuscript_id\") {\n      //loading the manuscript from server\n      this.$api.get(\"manuscripts/\" + this.$route.query.manuscript_id).then(function (resp) {\n        var manuscript = resp.data;\n\n        _this2.$store.commit(\"write/setManuscript\", manuscript);\n\n        console.log(\"manuscript\", manuscript);\n\n        try {\n          _this2.$q.sessionStorage.set(\"currentManuscript\", manuscript);\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n\n        _this2.loadBook(manuscript);\n\n        renderBook(_this2.book);\n        _this2.loading = false;\n      });\n    }\n\n    if (Object.keys(this.$route.query)[0] == \"book_id\") {\n      //loading the book from server\n      this.$api.get(\"books/\" + this.$route.query.book_id).then(function (resp) {\n        var book = resp.data;\n\n        _this2.loadBook(book);\n\n        renderBook(_this2.book);\n        _this2.loading = false;\n      });\n    }\n\n    function renderBook(book) {\n      var pageNum = 1;\n      var rootElement = \"<div id='RootDivContainer'>\";\n      self.$emit(\"navAdded\", {\n        type: \"book\",\n        label: book[\"title\"],\n        page: pageNum - 1,\n        children: []\n      });\n\n      if (!self.$q.screen.lt.sm) {\n        createPage(pageNum, book[\"title\"], \"\"); // creates the first page\n\n        pageNum++;\n      }\n\n      console.log(\"book\", book);\n\n      if (\"front_matters\" in book) {\n        var front_matters = book[\"front_matters\"];\n\n        for (var i = 0; i < front_matters.length; i++) {\n          self.$emit(\"navAdded\", {\n            type: \"front_matter\",\n            label: front_matters[i][\"title\"],\n            page: pageNum\n          }); //Based on config, adding title automatically\n\n          var heading = \" \";\n\n          if (self.bookConfigs.auto_add_title) {\n            heading = \"<h2>\" + front_matters[i][\"title\"] + \"</h2>\";\n          }\n\n          var text = rootElement + heading + front_matters[i][\"text\"] + \"</div>\";\n          text = self.processClosingTag(text);\n          text = self.addTabs(text);\n          pageNum = paginateText(mapDOM(text, false), pageNum, front_matters[i][\"title\"]);\n          var page = document.getElementsByClassName(\"page-text\")[0].innerHTML;\n\n          if (page != \"\") {\n            createPage(pageNum, front_matters[i][\"title\"], page);\n            document.getElementsByClassName(\"page-text\")[0].innerHTML = \"\";\n            pageNum++;\n          }\n        }\n      }\n\n      if (book.text != \"\") {\n        self.$emit(\"navAdded\", {\n          type: \"text\",\n          label: book[\"title\"],\n          page: pageNum\n        });\n        var text = rootElement + book[\"text\"] + \"</div>\";\n        text = self.processClosingTag(text);\n        text = self.addTabs(text);\n        pageNum = paginateText(mapDOM(text, false), pageNum, book[\"title\"]);\n        var page = document.getElementsByClassName(\"page-text\")[0].innerHTML;\n\n        if (page != \"\") {\n          createPage(pageNum, book[\"title\"], page);\n          document.getElementsByClassName(\"page-text\")[0].innerHTML = \"\";\n          pageNum++;\n        }\n      }\n\n      if (\"chapters\" in book) {\n        var chapters = book[\"chapters\"];\n\n        for (var i = 0; i < chapters.length; i++) {\n          self.$emit(\"navAdded\", {\n            type: \"chapters\",\n            label: chapters[i][\"title\"],\n            page: pageNum\n          }); //Based on config, adding title automatically\n\n          var heading = \" \";\n\n          if (self.bookConfigs.auto_add_title) {\n            heading = \"<h2>\" + chapters[i][\"title\"] + \"</h2>\";\n          }\n\n          var text = rootElement + heading + chapters[i][\"text\"] + \"</div>\";\n          text = self.processClosingTag(text);\n          text = self.addTabs(text);\n          console.log(\"text\", text);\n          pageNum = paginateText(mapDOM(text, false), pageNum, chapters[i][\"title\"]);\n          var page = document.getElementsByClassName(\"page-text\")[0].innerHTML;\n\n          if (page != \"\") {\n            createPage(pageNum, chapters[i][\"title\"], page);\n            document.getElementsByClassName(\"page-text\")[0].innerHTML = \"\";\n            pageNum++;\n          }\n        }\n      }\n\n      if (\"back_matters\" in book) {\n        var back_matters = book[\"back_matters\"];\n\n        for (var i = 0; i < back_matters.length; i++) {\n          self.$emit(\"navAdded\", {\n            type: \"back_matter\",\n            label: back_matters[i][\"title\"],\n            page: pageNum\n          }); //Based on config, adding title automatically\n\n          var heading = \" \";\n\n          if (self.bookConfigs.auto_add_title) {\n            heading = \"<h2>\" + back_matters[i][\"title\"] + \"</h2>\";\n          }\n\n          var text = rootElement + heading + back_matters[i][\"text\"] + \"</div>\";\n          text = self.processClosingTag(text);\n          text = self.addTabs(text);\n          pageNum = paginateText(mapDOM(text, false), pageNum, back_matters[i][\"title\"]);\n          var page = document.getElementsByClassName(\"page-text\")[0].innerHTML;\n\n          if (page != \"\") {\n            createPage(pageNum, back_matters[i][\"title\"], page);\n            document.getElementsByClassName(\"page-text\")[0].innerHTML = \"\";\n            pageNum++;\n          }\n        }\n      }\n\n      if (!self.$q.screen.lt.sm) {\n        createPage(pageNum, book[\"title\"], \"\");\n        pageNum++;\n\n        if (pageNum % 2 == 0) {\n          createPage(pageNum, book[\"title\"], \"\");\n        }\n      }\n    }\n\n    function mapDOM(element, json) {\n      var treeObject = {}; // If string convert to document Node\n\n      if (typeof element === \"string\") {\n        if (window.DOMParser) {\n          var parser = new DOMParser();\n          var docNode = parser.parseFromString(element, \"text/xml\");\n        } else {\n          // Microsoft strikes again\n          var docNode = new ActiveXObject(\"Microsoft.XMLDOM\");\n          docNode.async = false;\n          docNode.loadXML(element);\n        }\n\n        element = docNode.firstChild;\n      } //Recursively loop through DOM elements and assign properties to object\n\n\n      function treeHTML(element, object) {\n        object[\"type\"] = element.nodeName;\n        var nodeList = element.childNodes;\n\n        if (nodeList != null) {\n          if (nodeList.length) {\n            object[\"content\"] = [];\n\n            for (var i = 0; i < nodeList.length; i++) {\n              if (nodeList[i].nodeType == 3) {\n                object[\"content\"].push(nodeList[i].nodeValue);\n              } else {\n                object[\"content\"].push({});\n                treeHTML(nodeList[i], object[\"content\"][object[\"content\"].length - 1]);\n              }\n            }\n          }\n        }\n\n        if (element.attributes != null) {\n          if (element.attributes.length) {\n            object[\"attributes\"] = {};\n\n            for (var i = 0; i < element.attributes.length; i++) {\n              object[\"attributes\"][element.attributes[i].nodeName] = element.attributes[i].nodeValue;\n            }\n          }\n        }\n      }\n\n      treeHTML(element, treeObject);\n      return json ? JSON.stringify(treeObject) : treeObject;\n    }\n\n    function paginateText(DOM, pageNum, title) {\n      var tags = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      console.log(\"imp\", tags, DOM);\n\n      if (\"attributes\" in DOM && \"id\" in DOM[\"attributes\"] && DOM[\"attributes\"][\"id\"] == \"RootDivContainer\") {//To ignore the enclosing root container\n      } else {\n        var openingTag = \"attributes\" in DOM ? getOpeningTag(DOM[\"type\"], DOM[\"attributes\"]) : getOpeningTag(DOM[\"type\"]);\n        var closingTag = getClosingTag(DOM[\"type\"]);\n        var pageText = appendToLastPage(openingTag + closingTag, tags);\n\n        if (pageText != \"\") {\n          // checks if word could not be filled in last page\n          createPage(pageNum, title, pageText); // create new empty page\n\n          pageText = appendToLastPage(openingTag + closingTag, tags); // fill the word in the new last element\n\n          pageNum++;\n        }\n\n        tags.push({\n          openingTag: openingTag,\n          closingTag: closingTag\n        });\n        console.log(tags);\n      }\n\n      if (DOM[\"content\"]) {\n        for (var i = 0; i < DOM[\"content\"].length; i++) {\n          var content = DOM[\"content\"][i]; //check if content is string(text to render)\n\n          if (typeof content == \"string\") {\n            content = escapeHtml(content);\n            var words = content.split(\" \");\n\n            for (var j = 0; j < words.length; j++) {\n              var word = words[j] + \" \";\n              var pageText = appendToLastPage(word, tags);\n\n              if (pageText != \"\") {\n                // checks if word could not be filled in last page\n                createPage(pageNum, title, pageText); // create new empty page\n\n                var lastTags = []; //array to store the tags that have been appended to page\n                //looping through each tags and inserting them in the next page\n\n                for (var index = 0; index < tags.length; index++) {\n                  var tag = tags[index];\n                  var lastPage = self.pages[self.pages.length - 1].text.split(\" \"); //text of last page\n\n                  if (tag[\"openingTag\"].startsWith(\"<p\") && lastPage[lastPage.length - 2] != \"<p></p>\") {\n                    //to prevent the indentation of paragraph when overflowing to the next page\n                    //this is due to the fact that all p tags have automatic text indent thanks to css\n                    pageText = appendToLastPage(\"<p style='text-indent: 0'>\" + tag[\"closingTag\"], lastTags);\n                  } else {\n                    pageText = appendToLastPage(tag[\"openingTag\"] + tag[\"closingTag\"], lastTags); // fill the word in the new last element\n                  }\n\n                  lastTags.push(tag);\n                }\n\n                pageText = appendToLastPage(word, tags);\n                pageNum++;\n              }\n            }\n          } else if (self.singleTags.includes(content.type)) {\n            //check if content is a self closing tag\n            var word = \"<\" + content.type + \"/>\";\n            var pageText = appendToLastPage(word, tags);\n\n            if (pageText != \"\") {\n              // checks if word could not be filled in last page\n              createPage(pageNum, title, pageText); // create new empty page\n\n              pageText = appendToLastPage(word, tags);\n              pageNum++;\n            }\n          } else {\n            //if content is an object\n            pageNum = paginateText(content, pageNum, title, tags);\n            tags.pop();\n          }\n        }\n      }\n\n      return pageNum;\n    }\n\n    function createPage(pageNum, header, text) {\n      var page = {\n        header: header,\n        pageNum: pageNum,\n        text: text\n      };\n      self.pages.push(page);\n    }\n\n    function checkOverflow(el) {\n      var curOverflow = el.style.overflow;\n      if (!curOverflow || curOverflow === \"visible\") el.style.overflow = \"hidden\";\n      var isOverflowing = el.clientWidth < el.scrollWidth || el.clientHeight < el.scrollHeight;\n      el.style.overflow = curOverflow;\n      return isOverflowing;\n    }\n\n    function appendToLastPage(word) {\n      var tags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var page = document.getElementsByClassName(\"page-text\")[0]; // gets the fake page\n\n      var pageText = page.innerHTML; // gets the text from the last page\n\n      var originalText = pageText;\n\n      if (tags.length > 0) {\n        var lastOccurance = pageText.lastIndexOf(tags[tags.length - 1][\"closingTag\"]);\n        var suffix = pageText.slice(lastOccurance);\n        pageText = pageText.slice(0, lastOccurance);\n        pageText = pageText + word + \" \" + suffix;\n        page.innerHTML = pageText;\n      } else {\n        page.innerHTML += word + \" \"; // saves the text of the last page\n      }\n\n      if (checkOverflow(page)) {\n        // checks if the page overflows (more words than space)\n        page.innerHTML = \"\"; //resets the page-text\n\n        return originalText; // returns false because page is full\n      } else {\n        return \"\"; // returns true because word was successfully filled in the page\n      }\n    }\n\n    function getClosingTag(tagName) {\n      return \"</\" + tagName + \">\";\n    }\n\n    function getOpeningTag(tagName) {\n      var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var openingTag = \"<\" + tagName;\n\n      for (var attribute in attributes) {\n        openingTag = openingTag + \" \" + attribute + \"='\" + attributes[attribute] + \"'\";\n      }\n\n      openingTag = openingTag + \">\";\n      return openingTag;\n    }\n\n    function escapeHtml(unsafe) {\n      return unsafe.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n    }\n  },\n  data: function data() {\n    return {\n      widthClass: this.$q.screen.lt.sm ? \"full-page\" : \"half-page\",\n      width: this.$q.screen.lt.sm ? window.innerWidth : window.innerWidth / 2,\n      height: screen.height,\n      loading: true,\n      lastScrollTop: 0,\n      bookConfigs: {},\n      fontSize: \"font-size: 18px\",\n      singleTags: [\"br\", \"hr\"],\n      frontCover: \"cover/cover.jpg\",\n      backCover: \"cover/cover-2.jpg\",\n      book: {\n        title: \"\",\n        front_matters: [],\n        chapters: [],\n        text: \"\",\n        back_matters: []\n      },\n      book2: {\n        title: \"Sherlock Holmes\",\n        front_matters: [],\n        chapters: [],\n        back_matters: []\n      },\n      text: \"\",\n      pages: []\n    };\n  },\n  methods: {\n    loadBook: function loadBook(book) {\n      //the parameter book here stands for both the book and manuscript\n      //it is the json obj sent back from backend\n      console.log(book); //Copying the configs\n\n      this.bookConfigs = book.configs; //Setting up cover variables\n\n      var tempCover = book.temp_cover;\n      var frontCover = book.front_cover;\n      var backCover = book.back_cover; //Setting up front cover url\n\n      this.frontCover = this.processCoverUrls(frontCover, tempCover); //Setting up back cover url\n\n      this.backCover = this.processCoverUrls(backCover, tempCover); //Configuring the book object based on the data from server\n      //Setting up title\n\n      this.book.title = book.title; //Setting up front matters\n\n      if (book.configs.contain_front_matter && book.front_matters.length > 0) {\n        var frontMatters = book.front_matters.sort(this.compareIndex);\n\n        for (var i = 0; i < frontMatters.length; i++) {\n          var frontMatter = frontMatters[i];\n          this.book.front_matters.push({\n            title: frontMatter.title,\n            text: frontMatter.text\n          });\n        }\n      } //Setting up chapters\n\n\n      if (book.configs.contain_chapter && book.chapters.length > 0) {\n        var chapters = book.chapters.sort(this.compareIndex);\n\n        for (var i = 0; i < chapters.length; i++) {\n          var chapter = chapters[i];\n          this.book.chapters.push({\n            title: chapter.title,\n            text: chapter.text\n          });\n        }\n      } else {\n        //Setting up the text if no chapters are present\n        var text = book.text;\n        this.book.text = text;\n      } //Setting up back matters\n\n\n      if (book.configs.contain_back_matter && book.back_matters.length > 0) {\n        var backMatters = book.back_matters.sort(this.compareIndex);\n\n        for (var i = 0; i < backMatters.length; i++) {\n          var backMatter = backMatters[i];\n          this.book.back_matters.push({\n            title: backMatter.title,\n            text: backMatter.text\n          });\n        }\n      }\n\n      console.log(\"output\", this.book);\n    },\n    compareIndex: function compareIndex(a, b) {\n      if (a.index < b.index) {\n        return -1;\n      }\n\n      if (a.index > b.index) {\n        return 1;\n      }\n\n      return 0;\n    },\n    processCoverUrls: function processCoverUrls(cover, alternative) {\n      //Configuring url\n      var url = cover ? cover : alternative;\n      var parts = url.split(\"/\"); //Adding in the transformation url\n\n      parts.splice(6, 0, \"w_\".concat(this.width, \",h_\").concat(this.height, \",c_scale,b_rgb:F5F5DC,q_auto\"));\n      url = parts.join(\"/\");\n      return url;\n    },\n    processClosingTag: function processClosingTag(text) {\n      //To standardize self closing tags\n      text = text.split(\"<br>\").join(\"<br/>\");\n      text = text.split(\"<hr>\").join(\"<hr/>\");\n      text = text.split(\"<img>\").join(\"<img/>\");\n      return text;\n    },\n    addTabs: function addTabs(text) {\n      return text.replaceAll(\"&nbsp;\", '<span class=\"tab\"></span>');\n    },\n    handleKeyPress: function handleKeyPress(key) {\n      var _this3 = this;\n\n      //this if is to make lack of flipbook ref fail silently when route changes\n      if (this.$refs.flipbook) {\n        switch (key) {\n          case \"ArrowLeft\":\n            this.$refs.flipbook.flipPrev();\n            break;\n\n          case \"ArrowRight\":\n            this.$refs.flipbook.flipNext();\n            break;\n\n          case \"ArrowDown\":\n            this.$refs.flipbook.flipNext();\n            break;\n\n          case \"ArrowUp\":\n            this.$refs.flipbook.flipPrev();\n            break;\n\n          default: // code block\n\n        }\n\n        document.addEventListener(\"keydown\", function (e) {\n          _this3.handleKeyPress(e.key);\n        }, {\n          once: true\n        });\n      }\n    },\n    handleScroll: function handleScroll(scrollDirection) {\n      var _this4 = this;\n\n      //this if is to make lack of flipbook ref fail silently when route changes\n      if (this.$refs.flipbook) {\n        if (scrollDirection < 0) {\n          this.$refs.flipbook.flipPrev();\n        } else if (scrollDirection > 0) {\n          this.$refs.flipbook.flipNext();\n        }\n\n        document.addEventListener(\"wheel\", function (e) {\n          _this4.handleScroll(e.deltaY);\n        }, {\n          once: true\n        });\n      }\n    },\n    handleSwipe: function handleSwipe(_ref) {\n      var evt = _ref.evt,\n          info = objectWithoutProperties_default()(_ref, [\"evt\"]);\n\n      var direction = info.direction;\n\n      if (direction == \"right\") {\n        this.$refs.flipbook.flipPrev();\n      } else if (direction == \"left\") {\n        this.$refs.flipbook.flipNext();\n      } else if (direction == \"top\") {\n        this.$emit(\"swiped\", \"top\");\n      } else if (direction == \"down\") {\n        this.$emit(\"swiped\", \"down\");\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/reader/Book.vue?vue&type=script&lang=js&\n /* harmony default export */ var reader_Bookvue_type_script_lang_js_ = (Bookvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/reader/Book.vue?vue&type=style&index=0&id=6b1cb6df&lang=scss&scoped=true&\nvar Bookvue_type_style_index_0_id_6b1cb6df_lang_scss_scoped_true_ = __webpack_require__(\"40f1\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/TouchSwipe.js\nvar TouchSwipe = __webpack_require__(\"12c5\");\n\n// CONCATENATED MODULE: ./src/components/reader/Book.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar Book_component = Object(componentNormalizer[\"a\" /* default */])(\n  reader_Bookvue_type_script_lang_js_,\n  Bookvue_type_template_id_6b1cb6df_scoped_true_render,\n  Bookvue_type_template_id_6b1cb6df_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"6b1cb6df\",\n  null\n  \n)\n\n/* harmony default export */ var Book = (Book_component.exports);\n\n\nruntime_auto_import_default()(Book_component, 'directives', {TouchSwipe: TouchSwipe[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Drawer.vue?vue&type=template&id=e675b8bc&scoped=true&\nvar Drawervue_type_template_id_e675b8bc_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.enabled)?_c('section',[_c('aside',{ref:\"element\",staticClass:\"sidebar\",style:(_vm.style)},[_vm._t(\"default\")],2),_c('div',{ref:\"overlay\",staticClass:\"overlay\"})]):_vm._e()}\nvar Drawervue_type_template_id_e675b8bc_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/reader/Drawer.vue?vue&type=template&id=e675b8bc&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/reader/Drawer.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Drawervue_type_script_lang_js_ = ({\n  name: \"Drawer\",\n  props: [\"direction\", \"exist\"],\n  data: function data() {\n    return {\n      auto_speed: \"0.3s\",\n      manual_speed: \"0.03s\",\n      threshold: 20,\n      startTime: null,\n      startPos: null,\n      translate: null,\n      active: false,\n      visible: true\n    };\n  },\n  computed: {\n    element: function element() {\n      return this.$refs.element;\n    },\n    overlay: function overlay() {\n      return this.$refs.overlay;\n    },\n    enabled: function enabled() {\n      if (this.exist == true) {\n        return true;\n      }\n\n      return false;\n    },\n    style: function style() {\n      if (this.direction == \"right\") {\n        return \"transform:translate3d(100%,0,0);right:0;\";\n      }\n\n      return \"transform:translate3d(-100%,0,0);left:0;\";\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    document.addEventListener(\"touchstart\", function (e) {\n      _this.handleStart(e);\n    });\n    document.addEventListener(\"touchmove\", function (e) {\n      _this.handleMove(e);\n    });\n    document.addEventListener(\"touchend\", function (e) {\n      _this.handleEnd(e);\n    });\n    document.addEventListener(\"touchcancel\", function (e) {\n      _this.handleEnd(e);\n    });\n    window.addEventListener(\"resize\", function (e) {\n      _this.setVisibality(e);\n    }, true);\n    this.overlay.addEventListener(\"transitionend\", function (e) {\n      _this.handleZindex(e);\n    }, false);\n    this.overlay.addEventListener(\"click\", function (e) {\n      _this.close();\n    }, false);\n    this.setVisibality();\n  },\n  methods: {\n    setVisibality: function setVisibality() {\n      if (this.element.offsetWidth == 0) {\n        this.visible = false;\n      } else {\n        this.visible = true;\n      }\n    },\n    handleStart: function handleStart(e) {\n      this.startTime = new Date().getTime();\n      this.startPos = e.targetTouches[0].pageX;\n      this.element.style.transitionDuration = this.manual_speed;\n    },\n    handleMove: function handleMove(e) {\n      var gesture = this.gesture(e);\n      var valid = this.validate(this.direction, gesture);\n\n      if (valid) {\n        var percent = this.percentage(this.direction, gesture);\n\n        if (this.direction == \"left\") {\n          this.translate = e.touches[0].pageX - this.element.offsetWidth;\n\n          if (this.translate < 0) {\n            this.element.style.transform = \"translate3d(\" + this.translate + \"px,0,0)\";\n          } else {\n            this.open();\n          }\n        } else {\n          this.translate = -(screen.width - this.element.offsetWidth - e.touches[0].pageX);\n\n          if (this.translate > 0) {\n            this.element.style.transform = \"translate3d(\" + this.translate + \"px,0,0)\";\n          } else {\n            this.open();\n          }\n        }\n\n        this.overlayOpacity(percent / 100);\n      }\n    },\n    handleEnd: function handleEnd(e) {\n      var speed = this.speed(e);\n      var gesture = this.gesture(e);\n      var valid = this.validate(this.direction, gesture);\n\n      if (valid) {\n        if (speed > 0.6) {\n          if (!this.active) {\n            this.open();\n          } else {\n            this.close();\n          }\n        } else {\n          if (this.element.offsetWidth / 2 > Math.abs(this.translate)) {\n            this.open();\n          } else {\n            this.close();\n          }\n        }\n      }\n    },\n    handleZindex: function handleZindex() {\n      var opacity = window.getComputedStyle(this.overlay).getPropertyValue(\"opacity\");\n\n      if (opacity <= 0) {\n        this.overlay.style.zIndex = -999;\n      }\n    },\n    validate: function validate(direction, gesture) {\n      if (direction == \"left\") {\n        if (this.active && gesture == \"swiperight\" || !this.active && (gesture == \"swipeleft\" || this.startPos > this.threshold)) {\n          return false;\n        }\n      } else {\n        if (this.active && gesture == \"swipeleft\" || !this.active && (gesture == \"swiperight\" || this.startPos < screen.width - this.threshold)) {\n          return false;\n        }\n      }\n\n      if (document.querySelector(\".sidebar.active\") && !this.active || !this.visible) {\n        return false;\n      }\n\n      return true;\n    },\n    overlayOpacity: function overlayOpacity(opacity) {\n      this.overlay.style.opacity = opacity;\n\n      if (opacity > 0) {\n        this.overlay.style.zIndex = 999;\n      }\n    },\n    gesture: function gesture(e) {\n      var directions = [\"swipeleft\", \"swiperight\"];\n      var currentPos = e.changedTouches[0].pageX;\n\n      if (this.startPos - currentPos < 0) {\n        return directions[1];\n      } else {\n        return directions[0];\n      }\n    },\n    open: function open() {\n      this.translate = 0;\n      this.element.style.transform = \"translate3d(\" + this.translate + \",0,0)\";\n      this.element.style.transitionDuration = this.auto_speed;\n      this.overlayOpacity(1);\n      this.lock(document.querySelector(\"html\"));\n      this.lock(document.querySelector(\"body\"));\n      this.element.classList.add(\"active\");\n      this.active = true;\n    },\n    close: function close() {\n      if (this.direction == \"left\") {\n        this.translate = \"-\" + this.element.offsetWidth + \"px\";\n      } else {\n        this.translate = this.element.offsetWidth + \"px\";\n      }\n\n      this.element.style.transform = \"translate3d(\" + this.translate + \",0,0)\";\n      this.element.style.transitionDuration = this.auto_speed;\n      this.overlayOpacity(0);\n      this.unlock(document.querySelector(\"html\"));\n      this.unlock(document.querySelector(\"body\"));\n      this.element.classList.remove(\"active\");\n      this.active = false;\n    },\n    speed: function speed(e) {\n      var time = new Date().getTime() - this.startTime;\n      var startP = Math.abs(this.startPos);\n      var endP = Math.abs(e.changedTouches[0].pageX);\n      var distance = startP > endP ? startP - endP : endP - startP;\n      return distance / time;\n    },\n    percentage: function percentage(direction, gesture) {\n      var percentage = 0;\n      var test = [];\n\n      if (direction == \"left\") {\n        test = [\"swipeleft\", \"swiperight\"];\n      } else {\n        test = [\"swiperight\", \"swipeleft\"];\n      }\n\n      if (this.active && gesture == test[0]) {\n        percentage = 100 - Math.round(Math.abs(this.translate) / this.element.offsetWidth * 100);\n      }\n\n      if (!this.active && gesture == test[1]) {\n        percentage = Math.round(100 - Math.abs(this.translate) / this.element.offsetWidth * 100);\n      }\n\n      if (percentage > 100) {\n        percentage = 100;\n      }\n\n      if (percentage < 0) {\n        percentage = 0;\n      }\n\n      return percentage;\n    },\n    lock: function lock(element) {\n      element.style.overflow = \"hidden\";\n      element.style.touchAction = \"none\";\n    },\n    unlock: function unlock(element) {\n      element.style.removeProperty(\"overflow\");\n      element.style.removeProperty(\"touch-action\");\n    }\n  },\n  destroyed: function destroyed() {\n    this.unlock(document.querySelector(\"html\"));\n    this.unlock(document.querySelector(\"body\"));\n  }\n});\n// CONCATENATED MODULE: ./src/components/reader/Drawer.vue?vue&type=script&lang=js&\n /* harmony default export */ var reader_Drawervue_type_script_lang_js_ = (Drawervue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/reader/Drawer.vue?vue&type=style&index=0&id=e675b8bc&scoped=true&lang=css&\nvar Drawervue_type_style_index_0_id_e675b8bc_scoped_true_lang_css_ = __webpack_require__(\"5833\");\n\n// CONCATENATED MODULE: ./src/components/reader/Drawer.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar Drawer_component = Object(componentNormalizer[\"a\" /* default */])(\n  reader_Drawervue_type_script_lang_js_,\n  Drawervue_type_template_id_e675b8bc_scoped_true_render,\n  Drawervue_type_template_id_e675b8bc_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"e675b8bc\",\n  null\n  \n)\n\n/* harmony default export */ var Drawer = (Drawer_component.exports);\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/read/ReadBook.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ReadBookvue_type_script_lang_js_ = ({\n  components: {\n    Book: Book,\n    Drawer: Drawer\n  },\n  name: \"ReadBook\",\n  data: function data() {\n    return {\n      headerShow: true,\n      info: true,\n      text: \"\",\n      navigations: [],\n      selected: \"\",\n      currentSelected: \"\",\n      overflow: \"hidden\"\n    };\n  },\n  mounted: function mounted() {\n    this.info = !this.$q.localStorage.getItem(\"readerInfo\");\n  },\n  methods: {\n    toggleZen: function toggleZen() {\n      this.$q.fullscreen.toggle().then(function () {}).catch(function (err) {\n        alert(err);\n      });\n      this.headerShow = false;\n    },\n    toggleDrawer: function toggleDrawer() {\n      if (this.$refs.drawer.active) {\n        this.$refs.drawer.close();\n      } else {\n        this.$refs.drawer.open();\n      }\n    },\n    addNav: function addNav(nav) {\n      if (nav[\"type\"] == \"book\") {\n        this.navigations.push(nav);\n      } else {\n        this.navigations[0][\"children\"].push(nav);\n      }\n    },\n    handleSelected: function handleSelected() {\n      if (this.selected == null) {\n        //Reselect the node if no nodes are selected\n        this.selected = this.currentSelected;\n      } else {\n        this.currentSelected = this.selected;\n        this.headerShow = false;\n        this.$refs.book.$refs.flipbook.flip(this.currentSelected);\n      }\n    },\n    handleSwipe: function handleSwipe(direction) {\n      if (direction == \"top\") {\n        headerShow = false;\n      } else if (direction == \"down\") {\n        headerShow = true;\n      }\n    }\n  },\n  beforeRouteUpdate: function beforeRouteUpdate(to, from, next) {\n    this.navigations = [];\n    next();\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    this.overflow = \"auto\";\n    next();\n  },\n  beforeDestroy: function beforeDestroy() {\n    //Clearing out session storage after using it\n    if (this.$q.sessionStorage.has(\"currentManuscript\")) {\n      this.$q.sessionStorage.remove(\"currentManuscript\");\n    }\n\n    if (this.$q.sessionStorage.has(\"currentBook\")) {\n      this.$q.sessionStorage.remove(\"currentBook\");\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/read/ReadBook.vue?vue&type=script&lang=js&\n /* harmony default export */ var read_ReadBookvue_type_script_lang_js_ = (ReadBookvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/pages/read/ReadBook.vue?vue&type=style&index=0&id=7e675466&lang=scss&scoped=true&\nvar ReadBookvue_type_style_index_0_id_7e675466_lang_scss_scoped_true_ = __webpack_require__(\"60f5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/space/QSpace.js\nvar QSpace = __webpack_require__(\"2c91\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/avatar/QAvatar.js\nvar QAvatar = __webpack_require__(\"cb32\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tree/QTree.js + 4 modules\nvar QTree = __webpack_require__(\"7f41\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// CONCATENATED MODULE: ./src/pages/read/ReadBook.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar ReadBook_component = Object(componentNormalizer[\"a\" /* default */])(\n  read_ReadBookvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e675466\",\n  null\n  \n)\n\n/* harmony default export */ var ReadBook = __webpack_exports__[\"default\"] = (ReadBook_component.exports);\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(ReadBook_component, 'components', {QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QSpace: QSpace[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QAvatar: QAvatar[\"a\" /* default */],QTree: QTree[\"a\" /* default */]});runtime_auto_import_default()(ReadBook_component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n\n/***/ }),\n\n/***/ \"5833\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Drawer_vue_vue_type_style_index_0_id_e675b8bc_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"619b\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Drawer_vue_vue_type_style_index_0_id_e675b8bc_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_2_2_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Drawer_vue_vue_type_style_index_0_id_e675b8bc_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"60f5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_ReadBook_vue_vue_type_style_index_0_id_7e675466_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"3fa8\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_ReadBook_vue_vue_type_style_index_0_id_7e675466_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_ReadBook_vue_vue_type_style_index_0_id_7e675466_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"619b\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"6da2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"8868\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Page_vue_vue_type_style_index_0_id_1d33d8bd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"6da2\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Page_vue_vue_type_style_index_0_id_1d33d8bd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_Page_vue_vue_type_style_index_0_id_1d33d8bd_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ }),\n\n/***/ \"a312\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"c66d\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":null}