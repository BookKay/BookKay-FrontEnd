{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[8],{\"773f\":function(t,o,a){\"use strict\";a.r(o);var s=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a(\"q-page\",{staticClass:\"flex\"},[a(\"div\",{staticClass:\"col\"},[a(\"div\",{staticClass:\"row q-ml-md\"},[a(\"h2\",{staticClass:\"q-mb-md\"},[t._v(\"Let's Buy!!!\")])]),a(\"q-separator\",{staticClass:\"q-mb-md\",attrs:{inset:\"\"}}),a(\"div\",{staticClass:\"row justify-center\"},[a(\"q-card\",{staticClass:\"normal-card q-mb-xl q-mt-sm\",attrs:{flat:\"\",bordered:\"\"}},[a(\"q-card-section\",{attrs:{horizontal:\"\"}},[a(\"q-img\",{staticClass:\"col\",attrs:{src:t.book.front_cover,ratio:.8,contain:\"\"}}),a(\"q-card-section\",{staticClass:\"justify-around relative position\",attrs:{vertical:\"\"}},[a(\"div\",{staticClass:\"absolute-top-right\"},[a(\"q-btn\",{attrs:{icon:\"info\",flat:\"\",rounded:\"\",padding:\"none\",to:{name:\"home-browse_book\",params:{book_id:this.book.id}}}},[a(\"q-tooltip\",[t._v(\"Click me to recheck book details\")])],1)],1),a(\"div\",{staticClass:\"text-h5 q-mr-lg q-ml-xs\"},[t._v(t._s(t.book.title))]),a(\"div\",{staticClass:\"text-caption q-ml-xs\"},[t._v(\"\\n              By \"+t._s(t.book.author.author_name)+\"\\n            \")]),a(\"div\",{staticClass:\"text-body1 q-mt-xl\"},[t._v(\"\\n              Price: \"+t._s(0==t.book.price?\"Free :)\":\"$ \"+t.book.price)+\"\\n            \")])])],1),a(\"q-card-actions\",[a(\"q-btn\",{staticClass:\"full-width\",attrs:{color:\"primary\",label:\"Purchase\",icon:\"shopping_cart\"},on:{click:t.purchase}})],1)],1)],1)],1)])},e=[],i=(a(\"ac1f\"),a(\"5319\"),{name:\"BookPurchasePage\",beforeMount:function(){var t=this;this.$api.get(\"books/\"+this.$route.params.book_id).then((function(o){var a=o.data;t.book=a}))},data:function(){return{book:{}}},methods:{purchase:function(){var t=this,o={book_id:this.book.id,user_id:this.$store.getters[\"user/userProperty\"](\"id\")};this.$api.post(\"book_purchases\",o).then((function(o){var a=o.data;t.$store.commit(\"user/setUser\",a),t.$q.localStorage.set(\"user\",a),t.$q.notify({color:\"positive\",position:\"top\",message:\"You have successfully bought \".concat(t.book.title,\". Hope you enjoy it.\"),icon:\"error\"}),t.$router.replace({name:\"app-read\"})})).catch((function(o){t.$q.notify({color:\"negative\",position:\"top\",message:o.response.data.message||\"Something went wrong\",icon:\"error\"})}))}}}),r=i,c=(a(\"b3ff\"),a(\"2877\")),n=a(\"9989\"),l=a(\"eb85\"),d=a(\"f09f\"),u=a(\"a370\"),p=a(\"068f\"),b=a(\"9c40\"),f=a(\"05c0\"),m=a(\"4b7e\"),h=a(\"eebe\"),v=a.n(h),k=Object(c[\"a\"])(r,s,e,!1,null,\"4dfc23dc\",null);o[\"default\"]=k.exports;v()(k,\"components\",{QPage:n[\"a\"],QSeparator:l[\"a\"],QCard:d[\"a\"],QCardSection:u[\"a\"],QImg:p[\"a\"],QBtn:b[\"a\"],QTooltip:f[\"a\"],QCardActions:m[\"a\"]})},b356:function(t,o,a){},b3ff:function(t,o,a){\"use strict\";a(\"b356\")}}]);","name":"js/8.a5d56fdf.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[8],{\n\n/***/ \"773f\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/app/BookPurchasePage.vue?vue&type=template&id=4dfc23dc&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"flex\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row q-ml-md\"},[_c('h2',{staticClass:\"q-mb-md\"},[_vm._v(\"Let's Buy!!!\")])]),_c('q-separator',{staticClass:\"q-mb-md\",attrs:{\"inset\":\"\"}}),_c('div',{staticClass:\"row justify-center\"},[_c('q-card',{staticClass:\"normal-card q-mb-xl q-mt-sm\",attrs:{\"flat\":\"\",\"bordered\":\"\"}},[_c('q-card-section',{attrs:{\"horizontal\":\"\"}},[_c('q-img',{staticClass:\"col\",attrs:{\"src\":_vm.book.front_cover,\"ratio\":4 / 5,\"contain\":\"\"}}),_c('q-card-section',{staticClass:\"justify-around relative position\",attrs:{\"vertical\":\"\"}},[_c('div',{staticClass:\"absolute-top-right\"},[_c('q-btn',{attrs:{\"icon\":\"info\",\"flat\":\"\",\"rounded\":\"\",\"padding\":\"none\",\"to\":{\n                  name: 'home-browse_book',\n                  params: { book_id: this.book.id }\n                }}},[_c('q-tooltip',[_vm._v(\"Click me to recheck book details\")])],1)],1),_c('div',{staticClass:\"text-h5 q-mr-lg q-ml-xs\"},[_vm._v(_vm._s(_vm.book.title))]),_c('div',{staticClass:\"text-caption q-ml-xs\"},[_vm._v(\"\\n              By \"+_vm._s(_vm.book.author.author_name)+\"\\n            \")]),_c('div',{staticClass:\"text-body1 q-mt-xl\"},[_vm._v(\"\\n              Price: \"+_vm._s(_vm.book.price == 0 ? \"Free :)\" : \"$ \" + _vm.book.price)+\"\\n            \")])])],1),_c('q-card-actions',[_c('q-btn',{staticClass:\"full-width\",attrs:{\"color\":\"primary\",\"label\":\"Purchase\",\"icon\":\"shopping_cart\"},on:{\"click\":_vm.purchase}})],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/app/BookPurchasePage.vue?vue&type=template&id=4dfc23dc&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(\"ac1f\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(\"5319\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/app/BookPurchasePage.vue?vue&type=script&lang=js&\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BookPurchasePagevue_type_script_lang_js_ = ({\n  name: \"BookPurchasePage\",\n  beforeMount: function beforeMount() {\n    var _this = this;\n\n    this.$api.get(\"books/\" + this.$route.params.book_id).then(function (resp) {\n      var book = resp.data;\n      _this.book = book;\n    });\n  },\n  data: function data() {\n    return {\n      book: {}\n    };\n  },\n  methods: {\n    purchase: function purchase() {\n      var _this2 = this;\n\n      var purchase = {\n        book_id: this.book.id,\n        user_id: this.$store.getters[\"user/userProperty\"](\"id\")\n      };\n      this.$api.post(\"book_purchases\", purchase).then(function (resp) {\n        var user = resp.data;\n\n        _this2.$store.commit(\"user/setUser\", user);\n\n        _this2.$q.localStorage.set(\"user\", user);\n\n        _this2.$q.notify({\n          color: \"positive\",\n          position: \"top\",\n          message: \"You have successfully bought \".concat(_this2.book.title, \". Hope you enjoy it.\"),\n          icon: \"error\"\n        });\n\n        _this2.$router.replace({\n          name: \"app-read\"\n        });\n      }).catch(function (error) {\n        _this2.$q.notify({\n          color: \"negative\",\n          position: \"top\",\n          message: error.response.data.message || \"Something went wrong\",\n          icon: \"error\"\n        });\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/app/BookPurchasePage.vue?vue&type=script&lang=js&\n /* harmony default export */ var app_BookPurchasePagevue_type_script_lang_js_ = (BookPurchasePagevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/pages/app/BookPurchasePage.vue?vue&type=style&index=0&id=4dfc23dc&lang=scss&scoped=true&\nvar BookPurchasePagevue_type_style_index_0_id_4dfc23dc_lang_scss_scoped_true_ = __webpack_require__(\"b3ff\");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js\nvar QPage = __webpack_require__(\"9989\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/separator/QSeparator.js\nvar QSeparator = __webpack_require__(\"eb85\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/img/QImg.js + 1 modules\nvar QImg = __webpack_require__(\"068f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tooltip/QTooltip.js\nvar QTooltip = __webpack_require__(\"05c0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/app/BookPurchasePage.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  app_BookPurchasePagevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dfc23dc\",\n  null\n  \n)\n\n/* harmony default export */ var BookPurchasePage = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QPage: QPage[\"a\" /* default */],QSeparator: QSeparator[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QImg: QImg[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QTooltip: QTooltip[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */]});\n\n\n/***/ }),\n\n/***/ \"b356\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"b3ff\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_BookPurchasePage_vue_vue_type_style_index_0_id_4dfc23dc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b356\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_BookPurchasePage_vue_vue_type_style_index_0_id_4dfc23dc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_2_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_2_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_2_3_node_modules_quasar_app_lib_webpack_loader_quasar_scss_variables_js_node_modules_quasar_app_lib_webpack_loader_auto_import_client_js_kebab_node_modules_vue_loader_lib_index_js_vue_loader_options_BookPurchasePage_vue_vue_type_style_index_0_id_4dfc23dc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n/***/ })\n\n}]);","inputSourceMap":null}