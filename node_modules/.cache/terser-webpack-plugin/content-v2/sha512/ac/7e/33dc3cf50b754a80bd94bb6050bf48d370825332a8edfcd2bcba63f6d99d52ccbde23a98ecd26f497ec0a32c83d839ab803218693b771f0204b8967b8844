{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[15],{6328:function(t,e,r){\"use strict\";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"q-layout\",{attrs:{view:\"hHh LpR fFf\"}},[r(\"q-header\",{staticClass:\"bg-white\",attrs:{elevated:\"\"}},[r(\"q-toolbar\",[r(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"menu\",color:\"primary\"},on:{click:function(e){t.left=!t.left}}}),r(\"q-toolbar-title\",[r(\"q-btn\",{attrs:{flat:\"\",color:\"orange-3\",to:{name:\"home-homepage\"}}},[r(\"q-avatar\",{staticClass:\"q-ma-xs gt-sm\"},[r(\"img\",{attrs:{src:\"icons/favicon-128x128.png\"}})]),r(\"h6\",{staticClass:\"q-ma-xs text-capitalize\"},[t._v(\"BookKay\")])],1)],1),r(\"q-space\"),r(\"div\",[r(\"q-btn\",{attrs:{color:\"orange-3\",round:\"\",padding:\"xs\",to:{name:\"app-profile\"}}},[r(\"q-avatar\",{attrs:{size:\"40px\"}},[r(\"img\",{attrs:{src:\"https://c.pxhere.com/photos/c0/74/robin_bird_japanese_robin_wildlife_animal_nature_red_erithacus-693111.jpg!d\"}})])],1)],1)],1)],1),r(\"q-drawer\",{attrs:{side:\"left\",overlay:\"\",behavior:\"mobile\",bordered:\"\"},model:{value:t.left,callback:function(e){t.left=e},expression:\"left\"}},[r(\"div\",{staticClass:\"q-ma-md q-mt-xl\"},[this.$store.getters[\"user/isLoggedIn\"]?r(\"q-tree\",{ref:\"navTree\",staticClass:\"col-12 col-sm-6 text-body1\",attrs:{nodes:t.navigations,\"node-key\":\"name\",selected:t.selected},on:{\"update:selected\":[function(e){t.selected=e},t.handleSelected]}}):t._e()],1)]),r(\"q-page-container\",[r(\"router-view\")],1),r(\"q-footer\",{staticClass:\"bg-transparent text-white row\",attrs:{bordered:\"\"}},[r(\"q-tabs\",{staticClass:\"bg-white text-black shadow-2 col\",attrs:{align:\"justify\",\"indicator-color\":\"transparent\",\"active-color\":\"primary\"},model:{value:t.tab,callback:function(e){t.tab=e},expression:\"tab\"}},[r(\"q-route-tab\",{attrs:{name:\"read\",icon:\"book\",label:\"Read\",to:{name:\"app-read\"}}}),r(\"q-route-tab\",{attrs:{name:\"write\",icon:\"brush\",label:\"Write\",to:{name:\"app-write\"}}}),r(\"q-route-tab\",{attrs:{name:\"shop\",icon:\"local_library\",label:\"Shop\",to:{name:\"app-store\"}}})],1)],1)],1)},a=[],n=(r(\"b0c0\"),r(\"caad\"),r(\"2532\"),r(\"b64b\"),r(\"07ac\"),r(\"7db0\"),r(\"a434\"),r(\"4de4\"),r(\"4e82\"),r(\"c740\"),r(\"99af\"),r(\"ac1f\"),r(\"1276\"),{beforeMount:function(){var t=this;this.$route.params.manuscript_id&&this.$api.get(\"manuscripts/\"+this.$route.params.manuscript_id).then((function(e){var r=e.data;t.$store.commit(\"write/setManuscript\",r);try{t.$q.sessionStorage.set(\"currentManuscript\",r)}catch(i){console.log(\"err\",i)}}));var e=this.$route.name;if(e.includes(\"write-editor\")){var r=Object.keys(this.$route.query)[0],i=Object.values(this.$route.query)[0],a=e+\"/\"+r+\"/\"+i;this.selected=a,this.currentSelected=a}else this.selected=this.$route.name,this.currentSelected=this.$route.name},updated:function(){if(this.$store.getters[\"user/isLoggedIn\"]){var t=\"read-book/manuscript_id/\"+this.$store.getters[\"write/manuscriptProperty\"](\"id\");if(this.navigations.find((function(e){return e.name===t}))||this.navigations.splice(1,1,{label:\"Preview\",name:t}),this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_character&&!this.navigations.find((function(t){return\"Character\"===t.label}))){var e={label:\"Character\",name:\"write-character\"};this.navigations.splice(2,0,e)}else!this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_character&&this.navigations.find((function(t){return\"Character\"===t.label}))&&this.navigations.splice(2,1);if(this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_front_matter){var r=this.navigations.find((function(t){return\"Book\"===t.label})).children;r.find((function(t){return\"Front Matter\"==t.type}))&&(r=r.filter((function(t){return\"Front Matter\"!=t.type})));var i=this.$store.getters[\"write/manuscriptProperty\"](\"front_matters\");i.sort(this.compareIndex);for(var a=i.length-1;a>=0;a--){var n=i[a];r.unshift({label:n.title,name:\"write-editor/front_matter/\"+n.id,type:\"Front Matter\",query:{front_matter:n.id}})}this.navigations.find((function(t){return\"Book\"===t.label})).children=r}else{r=this.navigations.find((function(t){return\"Book\"===t.label})).children;r=r.filter((function(t){return\"Front Matter\"!=t.type})),this.navigations.find((function(t){return\"Book\"===t.label})).children=r}if(this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_chapter){r=this.navigations.find((function(t){return\"Book\"===t.label})).children;r.find((function(t){return\"Chapter\"==t.type}))&&(r=r.filter((function(t){return\"Chapter\"!=t.type})));var s=this.$store.getters[\"write/manuscriptProperty\"](\"chapters\");s.sort(this.compareIndex);var o=r.findIndex((function(t){return\"Back Matter\"==t.type}));for(a=0;a<s.length;a++){var c=s[a];-1==o?r.push({label:c.title,name:\"write-editor/chapter/\"+c.id,type:\"Chapter\"}):(r.splice(o,0,{label:c.title,name:\"write-editor/chapter/\"+c.id,type:\"Chapter\"}),o++)}r=r.filter((function(t){return\"Main Body Text\"!=t.label})),this.navigations.find((function(t){return\"Book\"===t.label})).children=r}else{r=this.navigations.find((function(t){return\"Book\"===t.label})).children;if(r=r.filter((function(t){return\"Chapter\"!=t.type})),this.navigations.find((function(t){return\"Book\"===t.label})).children=r,!r.find((function(t){return\"Main Body Text\"===t.label}))){o=r.findIndex((function(t){return\"Back Matter\"==t.type}));-1==o?r.push({label:\"Main Body Text\",name:\"write-editor/manuscript/\"+this.$store.getters[\"write/manuscriptProperty\"](\"id\"),type:\"Manuscript\"}):(r.splice(o,0,{label:\"Main Body Text\",name:\"write-editor/manuscript/\"+this.$store.getters[\"write/manuscriptProperty\"](\"id\"),type:\"Manuscript\"}),o++)}}if(this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_back_matter){r=this.navigations.find((function(t){return\"Book\"===t.label})).children;r.find((function(t){return\"Back Matter\"==t.type}))&&(r=r.filter((function(t){return\"Back Matter\"!=t.type})));var l=this.$store.getters[\"write/manuscriptProperty\"](\"back_matters\");l.sort(this.compareIndex);for(a=0;a<l.length;a++){var u=l[a];r.push({label:u.title,name:\"write-editor/back_matter/\"+u.id,type:\"Back Matter\"})}this.navigations.find((function(t){return\"Book\"===t.label})).children=r}else{r=this.navigations.find((function(t){return\"Book\"===t.label})).children;r=r.filter((function(t){return\"Back Matter\"!=t.type})),this.navigations.find((function(t){return\"Book\"===t.label})).children=r}}},data:function(){return{left:!1,tab:\"write\",navigations:[{label:\"Configs\",name:\"write-config\"},{label:\"Book\",name:\"write-overview\",children:[]}],selected:\"\",currentSelected:\"\"}},watch:{$route:function(t){switch(this.$route.name){case\"write-config\":this.selected=\"write-config\";break;case\"read-book\":this.selected=\"read-book/manuscript_id/\"+this.$store.getters[\"write/manuscriptProperty\"](\"id\");break;case\"write-overview\":this.selected=\"write-overview\";break;case\"write-editor\":var e=Object.keys(this.$route.query)[0],r=this.$route.query[e];this.selected=\"write-editor/\".concat(e,\"/\").concat(r);break;default:}}},methods:{handleSelected:function(){if(null==this.selected)this.selected=this.currentSelected;else if(this.currentSelected=this.selected,this.currentSelected.includes(\"/\")){var t=this.currentSelected.split(\"/\")[0],e=this.currentSelected.split(\"/\")[1],r=this.currentSelected.split(\"/\")[2],i={};i[e]=r,this.$router.push({name:t,query:i})}else this.$router.push({name:this.currentSelected,params:{manuscript_id:this.$store.getters[\"write/manuscriptProperty\"](\"id\")}})},compareIndex:function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}}}),s=n,o=r(\"2877\"),c=r(\"4d5a\"),l=r(\"e359\"),u=r(\"65c6\"),d=r(\"9c40\"),h=r(\"6ac5\"),p=r(\"cb32\"),f=r(\"2c91\"),b=r(\"9404\"),m=r(\"7f41\"),g=r(\"09e3\"),v=r(\"7ff0\"),w=r(\"429b\"),y=r(\"7867\"),k=r(\"eebe\"),$=r.n(k),_=Object(o[\"a\"])(s,i,a,!1,null,null,null);e[\"default\"]=_.exports;$()(_,\"components\",{QLayout:c[\"a\"],QHeader:l[\"a\"],QToolbar:u[\"a\"],QBtn:d[\"a\"],QToolbarTitle:h[\"a\"],QAvatar:p[\"a\"],QSpace:f[\"a\"],QDrawer:b[\"a\"],QTree:m[\"a\"],QPageContainer:g[\"a\"],QFooter:v[\"a\"],QTabs:w[\"a\"],QRouteTab:y[\"a\"]})}}]);","name":"js/15.c75bba43.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[15],{\n\n/***/ \"6328\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/layouts/WriteLayout.vue?vue&type=template&id=9acf67c2&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-layout',{attrs:{\"view\":\"hHh LpR fFf\"}},[_c('q-header',{staticClass:\"bg-white\",attrs:{\"elevated\":\"\"}},[_c('q-toolbar',[_c('q-btn',{attrs:{\"dense\":\"\",\"flat\":\"\",\"round\":\"\",\"icon\":\"menu\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.left = !_vm.left}}}),_c('q-toolbar-title',[_c('q-btn',{attrs:{\"flat\":\"\",\"color\":\"orange-3\",\"to\":{ name: 'home-homepage' }}},[_c('q-avatar',{staticClass:\"q-ma-xs gt-sm\"},[_c('img',{attrs:{\"src\":\"icons/favicon-128x128.png\"}})]),_c('h6',{staticClass:\"q-ma-xs text-capitalize\"},[_vm._v(\"BookKay\")])],1)],1),_c('q-space'),_c('div',[_c('q-btn',{attrs:{\"color\":\"orange-3\",\"round\":\"\",\"padding\":\"xs\",\"to\":{ name: 'app-profile' }}},[_c('q-avatar',{attrs:{\"size\":\"40px\"}},[_c('img',{attrs:{\"src\":\"https://c.pxhere.com/photos/c0/74/robin_bird_japanese_robin_wildlife_animal_nature_red_erithacus-693111.jpg!d\"}})])],1)],1)],1)],1),_c('q-drawer',{attrs:{\"side\":\"left\",\"overlay\":\"\",\"behavior\":\"mobile\",\"bordered\":\"\"},model:{value:(_vm.left),callback:function ($$v) {_vm.left=$$v},expression:\"left\"}},[_c('div',{staticClass:\"q-ma-md q-mt-xl\"},[(this.$store.getters['user/isLoggedIn'])?_c('q-tree',{ref:\"navTree\",staticClass:\"col-12 col-sm-6 text-body1\",attrs:{\"nodes\":_vm.navigations,\"node-key\":\"name\",\"selected\":_vm.selected},on:{\"update:selected\":[function($event){_vm.selected=$event},_vm.handleSelected]}}):_vm._e()],1)]),_c('q-page-container',[_c('router-view')],1),_c('q-footer',{staticClass:\"bg-transparent text-white row\",attrs:{\"bordered\":\"\"}},[_c('q-tabs',{staticClass:\"bg-white text-black shadow-2 col\",attrs:{\"align\":\"justify\",\"indicator-color\":\"transparent\",\"active-color\":\"primary\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('q-route-tab',{attrs:{\"name\":\"read\",\"icon\":\"book\",\"label\":\"Read\",\"to\":{ name: 'app-read' }}}),_c('q-route-tab',{attrs:{\"name\":\"write\",\"icon\":\"brush\",\"label\":\"Write\",\"to\":{ name: 'app-write' }}}),_c('q-route-tab',{attrs:{\"name\":\"shop\",\"icon\":\"local_library\",\"label\":\"Shop\",\"to\":{ name: 'app-store' }}})],1)],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/layouts/WriteLayout.vue?vue&type=template&id=9acf67c2&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__(\"b0c0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__(\"caad\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(\"2532\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(\"b64b\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.values.js\nvar es_object_values = __webpack_require__(\"07ac\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__(\"7db0\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__(\"a434\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(\"4de4\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.sort.js\nvar es_array_sort = __webpack_require__(\"4e82\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find-index.js\nvar es_array_find_index = __webpack_require__(\"c740\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__(\"99af\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(\"ac1f\");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__(\"1276\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/layouts/WriteLayout.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var WriteLayoutvue_type_script_lang_js_ = ({\n  beforeMount: function beforeMount() {\n    var _this = this;\n\n    //Fetching current manuscript\n    if (this.$route.params.manuscript_id) {\n      this.$api.get(\"manuscripts/\" + this.$route.params.manuscript_id).then(function (resp) {\n        var manuscript = resp.data;\n\n        _this.$store.commit(\"write/setManuscript\", manuscript);\n\n        try {\n          _this.$q.sessionStorage.set(\"currentManuscript\", manuscript);\n        } catch (error) {\n          console.log(\"err\", error);\n        } //Adding navigation for the preview after fetching the manuscript object\n\n        /*this.navigations.splice(1, 0, {\r\n          label: \"Preview\",\r\n          name:\r\n            \"read-book/manuscript_id/\" +\r\n            this.$store.getters[\"write/manuscriptProperty\"](\"id\")\r\n        });*/\n\n      });\n    } //Syncing the selected node of tree with the current route if navigation was done without\n    //clicking the tree\n\n\n    var routeName = this.$route.name;\n\n    if (routeName.includes(\"write-editor\")) {\n      var key = Object.keys(this.$route.query)[0];\n      var val = Object.values(this.$route.query)[0];\n      var name = routeName + \"/\" + key + \"/\" + val;\n      this.selected = name;\n      this.currentSelected = name;\n    } else {\n      this.selected = this.$route.name;\n      this.currentSelected = this.$route.name;\n    }\n  },\n  updated: function updated() {\n    //The codes below are used to update the navigations tree each time the drawer is opened/closed\n    if (this.$store.getters[\"user/isLoggedIn\"]) {\n      //Variable name of the name label\n      var name = \"read-book/manuscript_id/\" + this.$store.getters[\"write/manuscriptProperty\"](\"id\"); //Adding navigation for the preview after fetching the manuscript object\n\n      if (!this.navigations.find(function (x) {\n        return x.name === name;\n      })) {\n        this.navigations.splice(1, 1, {\n          label: \"Preview\",\n          name: name\n        });\n      } //Adding and removing character in the navigations tree\n\n\n      if ( //if config contain_character is true and there is not that obj in navigations\n      this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_character && !this.navigations.find(function (x) {\n        return x.label === \"Character\";\n      })) {\n        var nav = {\n          label: \"Character\",\n          name: \"write-character\"\n        };\n        this.navigations.splice(2, 0, nav);\n      } else if ( //if config contain_character is false and there is that obj in navigations\n      !this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_character && this.navigations.find(function (x) {\n        return x.label === \"Character\";\n      })) {\n        this.navigations.splice(2, 1);\n      } //Manipulating front matters\n\n\n      if (this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_front_matter) {\n        //The book navigation whose children will have\n        //front matters, chapters and back matters\n        var book = this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children; //Removing all the front matters first to update and add them back\n\n        if (book.find(function (x) {\n          return x.type == \"Front Matter\";\n        })) {\n          book = book.filter(function (item) {\n            return item.type != \"Front Matter\";\n          });\n        }\n\n        var frontMatters = this.$store.getters[\"write/manuscriptProperty\"](\"front_matters\");\n        frontMatters.sort(this.compareIndex);\n\n        for (var i = frontMatters.length - 1; i >= 0; i--) {\n          var frontMatter = frontMatters[i];\n          book.unshift({\n            label: frontMatter.title,\n            name: \"write-editor/front_matter/\" + frontMatter.id,\n            type: \"Front Matter\",\n            query: {\n              front_matter: frontMatter.id\n            }\n          });\n        }\n\n        this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children = book;\n      } else {\n        //Deleting front matters in navigations\n        var book = this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children;\n        book = book.filter(function (item) {\n          return item.type != \"Front Matter\";\n        });\n        this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children = book;\n      } //Manipulating chapter\n\n\n      if (this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_chapter) {\n        //The book navigation whose children will have\n        //front matters, chapters and back matters\n        var book = this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children; //Removing all the chapter first to update and add them back\n\n        if (book.find(function (x) {\n          return x.type == \"Chapter\";\n        })) {\n          book = book.filter(function (item) {\n            return item.type != \"Chapter\";\n          });\n        }\n\n        var chapters = this.$store.getters[\"write/manuscriptProperty\"](\"chapters\");\n        chapters.sort(this.compareIndex);\n        var index = book.findIndex(function (x) {\n          return x.type == \"Back Matter\";\n        });\n\n        for (var i = 0; i < chapters.length; i++) {\n          var chapter = chapters[i];\n\n          if (index == -1) {\n            book.push({\n              label: chapter.title,\n              name: \"write-editor/chapter/\" + chapter.id,\n              type: \"Chapter\"\n            });\n          } else {\n            book.splice(index, 0, {\n              label: chapter.title,\n              name: \"write-editor/chapter/\" + chapter.id,\n              type: \"Chapter\"\n            });\n            index++;\n          }\n        } //Deleting the main body text button if it exists\n\n\n        book = book.filter(function (item) {\n          return item.label != \"Main Body Text\";\n        }); //Setting back the navigations based on updated data\n\n        this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children = book;\n      } else {\n        //Deleting chapters in navigations\n        var book = this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children;\n        book = book.filter(function (item) {\n          return item.type != \"Chapter\";\n        });\n        this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children = book;\n\n        if (!book.find(function (x) {\n          return x.label === \"Main Body Text\";\n        })) {\n          var index = book.findIndex(function (x) {\n            return x.type == \"Back Matter\";\n          }); //If no other chaps/front_matters/back_matters are present\n\n          if (index == -1) {\n            book.push({\n              label: \"Main Body Text\",\n              name: \"write-editor/manuscript/\" + this.$store.getters[\"write/manuscriptProperty\"](\"id\"),\n              type: \"Manuscript\"\n            });\n          } else {\n            //If there are some chaps/fronts/backs\n            book.splice(index, 0, {\n              label: \"Main Body Text\",\n              name: \"write-editor/manuscript/\" + this.$store.getters[\"write/manuscriptProperty\"](\"id\"),\n              type: \"Manuscript\"\n            });\n            index++;\n          }\n        }\n      } //Manipulating back matters\n\n\n      if (this.$store.getters[\"write/manuscriptProperty\"](\"configs\").contain_back_matter) {\n        //The book navigation whose children will have\n        //back matters, chapters and back matters\n        var book = this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children; //Removing all the back matters first to update and add them back\n\n        if (book.find(function (x) {\n          return x.type == \"Back Matter\";\n        })) {\n          book = book.filter(function (item) {\n            return item.type != \"Back Matter\";\n          });\n        }\n\n        var backMatters = this.$store.getters[\"write/manuscriptProperty\"](\"back_matters\");\n        backMatters.sort(this.compareIndex);\n\n        for (var i = 0; i < backMatters.length; i++) {\n          var backMatter = backMatters[i];\n          book.push({\n            label: backMatter.title,\n            name: \"write-editor/back_matter/\" + backMatter.id,\n            type: \"Back Matter\"\n          });\n        }\n\n        this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children = book;\n      } else {\n        //Deleting back matters in navigations\n        var book = this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children;\n        book = book.filter(function (item) {\n          return item.type != \"Back Matter\";\n        });\n        this.navigations.find(function (x) {\n          return x.label === \"Book\";\n        }).children = book;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      left: false,\n      tab: \"write\",\n      navigations: [{\n        label: \"Configs\",\n        name: \"write-config\"\n      }, {\n        label: \"Book\",\n        name: \"write-overview\",\n        children: []\n      }],\n      selected: \"\",\n      currentSelected: \"\"\n    };\n  },\n  watch: {\n    $route: function $route(val) {\n      switch (this.$route.name) {\n        case \"write-config\":\n          this.selected = \"write-config\";\n          break;\n\n        case \"read-book\":\n          this.selected = \"read-book/manuscript_id/\" + this.$store.getters[\"write/manuscriptProperty\"](\"id\");\n          break;\n\n        case \"write-overview\":\n          this.selected = \"write-overview\";\n          break;\n\n        case \"write-editor\":\n          var key = Object.keys(this.$route.query)[0];\n          var value = this.$route.query[key];\n          this.selected = \"write-editor/\".concat(key, \"/\").concat(value);\n          break;\n\n        default: // code block\n\n      }\n    }\n  },\n  methods: {\n    handleSelected: function handleSelected() {\n      if (this.selected == null) {\n        //Reselect the node if no nodes are selected\n        this.selected = this.currentSelected;\n      } else {\n        this.currentSelected = this.selected;\n\n        if (!this.currentSelected.includes(\"/\")) {\n          //if the route is to config, character or overview(without ids)\n          this.$router.push({\n            name: this.currentSelected,\n            params: {\n              manuscript_id: this.$store.getters[\"write/manuscriptProperty\"](\"id\")\n            }\n          });\n        } else {\n          var route_name = this.currentSelected.split(\"/\")[0];\n          var key = this.currentSelected.split(\"/\")[1];\n          var value = this.currentSelected.split(\"/\")[2];\n          var query = {};\n          query[key] = value;\n          this.$router.push({\n            name: route_name,\n            query: query\n          });\n        }\n      }\n    },\n    compareIndex: function compareIndex(a, b) {\n      if (a.index < b.index) {\n        return -1;\n      }\n\n      if (a.index > b.index) {\n        return 1;\n      }\n\n      return 0;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/layouts/WriteLayout.vue?vue&type=script&lang=js&\n /* harmony default export */ var layouts_WriteLayoutvue_type_script_lang_js_ = (WriteLayoutvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/layout/QLayout.js\nvar QLayout = __webpack_require__(\"4d5a\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/header/QHeader.js\nvar QHeader = __webpack_require__(\"e359\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/toolbar/QToolbar.js\nvar QToolbar = __webpack_require__(\"65c6\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/toolbar/QToolbarTitle.js\nvar QToolbarTitle = __webpack_require__(\"6ac5\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/avatar/QAvatar.js\nvar QAvatar = __webpack_require__(\"cb32\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/space/QSpace.js\nvar QSpace = __webpack_require__(\"2c91\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/drawer/QDrawer.js\nvar QDrawer = __webpack_require__(\"9404\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tree/QTree.js + 4 modules\nvar QTree = __webpack_require__(\"7f41\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPageContainer.js\nvar QPageContainer = __webpack_require__(\"09e3\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/footer/QFooter.js\nvar QFooter = __webpack_require__(\"7ff0\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tabs/QTabs.js\nvar QTabs = __webpack_require__(\"429b\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/tabs/QRouteTab.js + 2 modules\nvar QRouteTab = __webpack_require__(\"7867\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/layouts/WriteLayout.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  layouts_WriteLayoutvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var WriteLayout = __webpack_exports__[\"default\"] = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QLayout: QLayout[\"a\" /* default */],QHeader: QHeader[\"a\" /* default */],QToolbar: QToolbar[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QToolbarTitle: QToolbarTitle[\"a\" /* default */],QAvatar: QAvatar[\"a\" /* default */],QSpace: QSpace[\"a\" /* default */],QDrawer: QDrawer[\"a\" /* default */],QTree: QTree[\"a\" /* default */],QPageContainer: QPageContainer[\"a\" /* default */],QFooter: QFooter[\"a\" /* default */],QTabs: QTabs[\"a\" /* default */],QRouteTab: QRouteTab[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}